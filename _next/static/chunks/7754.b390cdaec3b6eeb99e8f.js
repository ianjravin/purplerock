(window.webpackJsonp=window.webpackJsonp||[]).push([["7754","7754"],{"/MXg":function(e,t,r){var n=r("ZkmD");e.exports=function(){var e=n();return{get:function(t,r){var n=e(t);return n.hasOwnProperty("value")?n.value:r},set:function(t,r){return e(t).value=r,this},has:function(t){return"value"in e(t)},delete:function(t){return delete e(t).value}}}},"033R":function(e,t,r){"use strict";var n=r("TBio");e.exports=function(e){var t=["'use strict'","var CACHED={}"],r=[],o=e.funcName+"_cwise_thunk";t.push(["return function ",o,"(",e.shimArgs.join(","),"){"].join(""));for(var a=[],i=[],s=[["array",e.arrayArgs[0],".shape.slice(",Math.max(0,e.arrayBlockIndices[0]),e.arrayBlockIndices[0]<0?","+e.arrayBlockIndices[0]+")":")"].join("")],u=[],f=[],c=0;c<e.arrayArgs.length;++c){var l=e.arrayArgs[c];r.push(["t",l,"=array",l,".dtype,","r",l,"=array",l,".order"].join("")),a.push("t"+l),a.push("r"+l),i.push("t"+l),i.push("r"+l+".join()"),s.push("array"+l+".data"),s.push("array"+l+".stride"),s.push("array"+l+".offset|0"),c>0&&(u.push("array"+e.arrayArgs[0]+".shape.length===array"+l+".shape.length+"+(Math.abs(e.arrayBlockIndices[0])-Math.abs(e.arrayBlockIndices[c]))),f.push("array"+e.arrayArgs[0]+".shape[shapeIndex+"+Math.max(0,e.arrayBlockIndices[0])+"]===array"+l+".shape[shapeIndex+"+Math.max(0,e.arrayBlockIndices[c])+"]"))}for(e.arrayArgs.length>1&&(t.push("if (!("+u.join(" && ")+")) throw new Error('cwise: Arrays do not all have the same dimensionality!')"),t.push("for(var shapeIndex=array"+e.arrayArgs[0]+".shape.length-"+Math.abs(e.arrayBlockIndices[0])+"; shapeIndex--\x3e0;) {"),t.push("if (!("+f.join(" && ")+")) throw new Error('cwise: Arrays do not all have the same shape!')"),t.push("}")),c=0;c<e.scalarArgs.length;++c)s.push("scalar"+e.scalarArgs[c]);return r.push(["type=[",i.join(","),"].join()"].join("")),r.push("proc=CACHED[type]"),t.push("var "+r.join(",")),t.push(["if(!proc){","CACHED[type]=proc=compile([",a.join(","),"])}","return proc(",s.join(","),")}"].join("")),e.debug&&console.log("-----Generated thunk:\n"+t.join("\n")+"\n----------"),new Function("compile",t.join("\n"))(n.bind(void 0,e))}},"0GS4":function(e,t,r){"use strict";var n=r("63NL"),o=r("o/2B");function a(e){return new Function("y","return function(){return y}")(e)}function i(e,t){for(var r=new Array(e),n=0;n<e;++n)r[n]=t;return r}e.exports=function(e,t,r,s){function u(e,t,r){switch(r){case"bool":case"int":case"sampler2D":case"samplerCube":return"gl.uniform1i(locations["+t+"],obj"+e+")";case"float":return"gl.uniform1f(locations["+t+"],obj"+e+")";default:var n=r.indexOf("vec");if(!(0<=n&&n<=1&&r.length===4+n)){if(0===r.indexOf("mat")&&4===r.length){var a=r.charCodeAt(r.length-1)-48;if(a<2||a>4)throw new o("","Invalid uniform dimension type for matrix "+name+": "+r);return"gl.uniformMatrix"+a+"fv(locations["+t+"],false,obj"+e+")"}throw new o("","Unknown uniform data type for "+name+": "+r)}var a=r.charCodeAt(r.length-1)-48;if(a<2||a>4)throw new o("","Invalid data type");switch(r.charAt(0)){case"b":case"i":return"gl.uniform"+a+"iv(locations["+t+"],obj"+e+")";case"v":return"gl.uniform"+a+"fv(locations["+t+"],obj"+e+")";default:throw new o("","Unrecognized data type for vector "+name+": "+r)}}}function f(t){for(var n=["return function updateProperty(obj){"],o=function e(t,r){if("object"!=typeof r)return[[t,r]];var n=[];for(var o in r){var a=r[o],i=t;parseInt(o)+""===o?i+="["+o+"]":i+="."+o,"object"==typeof a?n.push.apply(n,e(i,a)):n.push([i,a])}return n}("",t),a=0;a<o.length;++a){var i=o[a],f=i[0],c=i[1];s[c]&&n.push(u(f,c,r[c].type))}n.push("return obj}");var l=new Function("gl","locations",n.join("\n"));return l(e,s)}function c(n,u,c){if("object"==typeof c){var h=l(c);Object.defineProperty(n,u,{get:a(h),set:f(c),enumerable:!0,configurable:!1})}else s[c]?Object.defineProperty(n,u,{get:(p=c,d=new Function("gl","wrapper","locations","return function(){return gl.getUniform(wrapper.program,locations["+p+"])}"),d(e,t,s)),set:f(c),enumerable:!0,configurable:!1}):n[u]=function(e){switch(e){case"bool":return!1;case"int":case"sampler2D":case"samplerCube":case"float":return 0;default:var t=e.indexOf("vec");if(0<=t&&t<=1&&e.length===4+t){var r=e.charCodeAt(e.length-1)-48;if(r<2||r>4)throw new o("","Invalid data type");return"b"===e.charAt(0)?i(r,!1):i(r,0)}if(0===e.indexOf("mat")&&4===e.length){var r=e.charCodeAt(e.length-1)-48;if(r<2||r>4)throw new o("","Invalid uniform dimension type for matrix "+name+": "+e);return i(r*r,0)}throw new o("","Unknown uniform data type for "+name+": "+e)}}(r[c].type);var p,d}function l(e){var t;if(Array.isArray(e)){t=new Array(e.length);for(var r=0;r<e.length;++r)c(t,r,e[r])}else for(var n in t={},e)c(t,n,e[n]);return t}var h=n(r,!0);return{get:a(l(h)),set:f(h),enumerable:!0,configurable:!0}}},"1BqX":function(e,t,r){"use strict";t.uniforms=function(e,t){for(var r=e.getProgramParameter(t,e.ACTIVE_UNIFORMS),n=[],o=0;o<r;++o){var i=e.getActiveUniform(t,o);if(i){var s=a(e,i.type);if(i.size>1)for(var u=0;u<i.size;++u)n.push({name:i.name.replace("[0]","["+u+"]"),type:s});else n.push({name:i.name,type:s})}}return n},t.attributes=function(e,t){for(var r=e.getProgramParameter(t,e.ACTIVE_ATTRIBUTES),n=[],o=0;o<r;++o){var i=e.getActiveAttrib(t,o);i&&n.push({name:i.name,type:a(e,i.type)})}return n};var n={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube"},o=null;function a(e,t){if(!o){var r=Object.keys(n);o={};for(var a=0;a<r.length;++a){var i=r[a];o[e[i]]=n[i]}}return o[t]}},"2Eek":function(e,t,r){e.exports=r("W7oM")},"2wwy":function(e,t,r){e.exports=r("nhzr")},"38ab":function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r=e.__glReactGlobalVisitor=e.__glReactGlobalVisitor||[],n={add:function(e){r.push(e)},remove:function(e){var t=r.indexOf(e);-1!==t&&r.splice(t,1)},get:function(){return r}};t.default=n}).call(this,r("3r9c"))},"49sm":function(e,t){var r={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==r.call(e)}},"4Z/T":function(e,t,r){var n;!function(){"use strict";var o={not_string:/[^s]/,not_bool:/[^t]/,not_type:/[^T]/,not_primitive:/[^v]/,number:/[diefg]/,numeric_arg:/[bcdiefguxX]/,json:/[j]/,not_json:/[^j]/,text:/^[^\x25]+/,modulo:/^\x25{2}/,placeholder:/^\x25(?:([1-9]\d*)\$|\(([^)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-gijostTuvxX])/,key:/^([a-z_][a-z_\d]*)/i,key_access:/^\.([a-z_][a-z_\d]*)/i,index_access:/^\[(\d+)\]/,sign:/^[+-]/};function a(e){return function(e,t){var r,n,i,s,u,f,c,l,h,p=1,d=e.length,g="";for(n=0;n<d;n++)if("string"==typeof e[n])g+=e[n];else if("object"==typeof e[n]){if((s=e[n]).keys)for(r=t[p],i=0;i<s.keys.length;i++){if(null==r)throw new Error(a('[sprintf] Cannot access property "%s" of undefined value "%s"',s.keys[i],s.keys[i-1]));r=r[s.keys[i]]}else r=s.param_no?t[s.param_no]:t[p++];if(o.not_type.test(s.type)&&o.not_primitive.test(s.type)&&r instanceof Function&&(r=r()),o.numeric_arg.test(s.type)&&"number"!=typeof r&&isNaN(r))throw new TypeError(a("[sprintf] expecting number but found %T",r));switch(o.number.test(s.type)&&(l=r>=0),s.type){case"b":r=parseInt(r,10).toString(2);break;case"c":r=String.fromCharCode(parseInt(r,10));break;case"d":case"i":r=parseInt(r,10);break;case"j":r=JSON.stringify(r,null,s.width?parseInt(s.width):0);break;case"e":r=s.precision?parseFloat(r).toExponential(s.precision):parseFloat(r).toExponential();break;case"f":r=s.precision?parseFloat(r).toFixed(s.precision):parseFloat(r);break;case"g":r=s.precision?String(Number(r.toPrecision(s.precision))):parseFloat(r);break;case"o":r=(parseInt(r,10)>>>0).toString(8);break;case"s":r=String(r),r=s.precision?r.substring(0,s.precision):r;break;case"t":r=String(!!r),r=s.precision?r.substring(0,s.precision):r;break;case"T":r=Object.prototype.toString.call(r).slice(8,-1).toLowerCase(),r=s.precision?r.substring(0,s.precision):r;break;case"u":r=parseInt(r,10)>>>0;break;case"v":r=r.valueOf(),r=s.precision?r.substring(0,s.precision):r;break;case"x":r=(parseInt(r,10)>>>0).toString(16);break;case"X":r=(parseInt(r,10)>>>0).toString(16).toUpperCase()}o.json.test(s.type)?g+=r:(!o.number.test(s.type)||l&&!s.sign?h="":(h=l?"+":"-",r=r.toString().replace(o.sign,"")),f=s.pad_char?"0"===s.pad_char?"0":s.pad_char.charAt(1):" ",c=s.width-(h+r).length,u=s.width&&c>0?f.repeat(c):"",g+=s.align?h+r+u:"0"===f?h+u+r:u+h+r)}return g}(function(e){if(s[e])return s[e];var t,r=e,n=[],a=0;for(;r;){if(null!==(t=o.text.exec(r)))n.push(t[0]);else if(null!==(t=o.modulo.exec(r)))n.push("%");else{if(null===(t=o.placeholder.exec(r)))throw new SyntaxError("[sprintf] unexpected placeholder");if(t[2]){a|=1;var i=[],u=t[2],f=[];if(null===(f=o.key.exec(u)))throw new SyntaxError("[sprintf] failed to parse named argument key");for(i.push(f[1]);""!==(u=u.substring(f[0].length));)if(null!==(f=o.key_access.exec(u)))i.push(f[1]);else{if(null===(f=o.index_access.exec(u)))throw new SyntaxError("[sprintf] failed to parse named argument key");i.push(f[1])}t[2]=i}else a|=2;if(3===a)throw new Error("[sprintf] mixing positional and named placeholders is not (yet) supported");n.push({placeholder:t[0],param_no:t[1],keys:t[2],sign:t[3],pad_char:t[4],align:t[5],width:t[6],precision:t[7],type:t[8]})}r=r.substring(t[0].length)}return s[e]=n}(e),arguments)}function i(e,t){return a.apply(null,[e].concat(t||[]))}var s=Object.create(null);t.sprintf=a,t.vsprintf=i,"undefined"!=typeof window&&(window.sprintf=a,window.vsprintf=i,void 0===(n=function(){return{sprintf:a,vsprintf:i}}.call(t,r,t,e))||(e.exports=n))}()},"4bdI":function(e,t,r){r("Ui4e"),e.exports=r("WEpk").Object.freeze},"54jV":function(e,t,r){var n=r("zruO"),o=r("DolM"),a={background:"#000",size:[1e3,1e3],draws:[]};function i(e,t){var r=Error.call(this,e);this.name=r.name="UnsupportedDrawOperation",this.stack=r.stack,this.message=r.message,this.path=t}function s(e){if(e in this._imgs)return this._imgs[e];var t=new window.Image;return t.crossOrigin=!0,t.src=e,this._imgs[e]=t,t.onload=this.flush.bind(this),t}function u(e,t){if(!(this instanceof u))return new u(e,t);this.ctx=e,this._imgs={},this.resolveImage=t?function(e){var r=t(e);return"string"==typeof r?s.call(this,r):r}:s}i.prototype=Object.create(Error.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),u.defaultResolveImage=s,u.defaults=a,u.prototype={destroy:function(){this._item=null,this._imgs=null,this.ctx=null},getSize:function(e){return e.size||a.size},getRectangle:function(e){var t=this.getSize(e),r=t[0],n=t[1];return o.largest({width:r,height:n},this.ctx.canvas)},flush:function(){this._item&&this.render(this._item)},render:function(e,t){this._item=e;var r=this.ctx,n=r.canvas,o=n.width,i=n.height,s=e.background||a.size,u=this.getSize(e),f=this.getRectangle(e),c=u[0],l=u[1];r.save(),r.fillStyle=s,r.fillRect(0,0,o,i),r.translate(Math.round(f[0]),Math.round(f[1])),r.scale(f[2]/c,f[3]/l),this._renderRec(e.draws||a.draws,[],t||function(){}),r.restore()},_renderRec:function(e,t,r){for(var n=this.ctx,o=e.length,a=0;a<o;++a){var i=e[a],s=t.concat([a]);if(i instanceof Array){var u=i[0];"object"==typeof u?(n.save(),this._renderRec(i,s,r),n.restore()):this._renderOp(u,i.slice(1),s)}else for(var f in i)n[f]=i[f];r(s,i)}},_renderOp:function(e,t,r){var o=this.ctx;if("string"!=typeof e)throw new i("must be a string operation: "+e,r);switch(e){case"drawImage":var a="string"==typeof t[0]?this.resolveImage(t[0]):a;n.apply(null,[o,a].concat(t.slice(1)));break;case"fillText":case"strokeText":var s=t[0],u=s.split("\n"),f=u.length,c=t[1],l=t[2];if(1===f||t.length<4)o[e].call(o,s,c,l);else for(var h=t[3],p=0;p<f;++p)o[e].call(o,u[p],c,l+p*h);break;default:var d=o[e];if("function"!=typeof d)throw new i(e,r);d.apply(o,t)}}},e.exports=u},"5lXm":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=(n=0,function(){return++n});t.default=o},"5rLZ":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(n=(i=s.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(u){o=!0,a=u}finally{try{!n&&s.return&&s.return()}finally{if(o)throw a}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=r("q1tI"),s=f(i),u=f(r("17x9"));function f(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){var t,r;return r=t=function(t){function r(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(r.__proto__||Object.getPrototypeOf(r)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(r,i.Component),a(r,[{key:"getGLSize",value:function(){var e=this.props,t=e.width,r=e.height,n=this.context.glSizable;if(t&&r)return[t,r];var a=n.getGLSize(),i=o(a,2),s=i[0],u=i[1];return[t||s,r||u]}},{key:"getChildContext",value:function(){return{glSizable:this}}},{key:"render",value:function(){var t=this.props.onConnectSizeComponentRef,r=this.getGLSize(),a=o(r,2),i=a[0],u=a[1];return s.default.createElement(e,n({ref:t},this.props,{width:i,height:u}))}}]),r}(),t.displayName="connectSize("+(e.displayName||e.name||"?")+")",t.propTypes={width:u.default.number,height:u.default.number},t.contextTypes={glSizable:u.default.object.isRequired},t.childContextTypes={glSizable:u.default.object.isRequired},r}},"63NL":function(e,t,r){"use strict";e.exports=function(e,t){for(var r={},n=0;n<e.length;++n)for(var o=e[n].name,a=o.split("."),i=r,s=0;s<a.length;++s){var u=a[s].split("[");if(u.length>1){u[0]in i||(i[u[0]]=[]),i=i[u[0]];for(var f=1;f<u.length;++f){var c=parseInt(u[f]);f<u.length-1||s<a.length-1?(c in i||(f<u.length-1?i[c]=[]:i[c]={}),i=i[c]):i[c]=t?n:e[n].type}}else s<a.length-1?(u[0]in i||(i[u[0]]={}),i=i[u[0]]):i[u[0]]=t?n:e[n].type}return r}},"6v/u":function(e,t){e.exports=function(e){return atob(e)}},"8e5R":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();var o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return n(e,[{key:"onSurfaceMount",value:function(e){}},{key:"onSurfaceUnmount",value:function(e){}},{key:"onSurfaceGLContextChange",value:function(e,t){}},{key:"onSurfaceDrawSkipped",value:function(e){}},{key:"onSurfaceDrawStart",value:function(e){}},{key:"onSurfaceDrawError",value:function(e){return!1}},{key:"onSurfaceDrawEnd",value:function(e){}},{key:"onNodeDrawSkipped",value:function(e){}},{key:"onNodeDrawStart",value:function(e){}},{key:"onNodeSyncDeps",value:function(e,t,r){}},{key:"onNodeDraw",value:function(e,t){}},{key:"onNodeDrawEnd",value:function(e){}}]),e}();t.default=o},"8oxB":function(e,t){var r,n,o=e.exports={};function a(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function s(e){if(r===setTimeout)return setTimeout(e,0);if((r===a||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:a}catch(e){r=a}try{n="function"==typeof clearTimeout?clearTimeout:i}catch(e){n=i}}();var u,f=[],c=!1,l=-1;function h(){c&&u&&(c=!1,u.length?f=u.concat(f):l=-1,f.length&&p())}function p(){if(!c){var e=s(h);c=!0;for(var t=f.length;t;){for(u=f,f=[];++l<t;)u&&u[l].run();l=-1,t=f.length}u=null,c=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===i||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function d(e,t){this.fun=e,this.array=t}function g(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];f.push(new d(e,t)),1!==f.length||c||s(p)},d.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=g,o.addListener=g,o.once=g,o.off=g,o.removeListener=g,o.removeAllListeners=g,o.emit=g,o.prependListener=g,o.prependOnceListener=g,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},"9fJb":function(e,t,r){var n=r("GTa7");e.exports=n.slice().concat(["layout","centroid","smooth","case","mat2x2","mat2x3","mat2x4","mat3x2","mat3x3","mat3x4","mat4x2","mat4x3","mat4x4","uvec2","uvec3","uvec4","samplerCubeShadow","sampler2DArray","sampler2DArrayShadow","isampler2D","isampler3D","isamplerCube","isampler2DArray","usampler2D","usampler3D","usamplerCube","usampler2DArray","coherent","restrict","readonly","writeonly","resource","atomic_uint","noperspective","patch","sample","subroutine","common","partition","active","filter","image1D","image2D","image3D","imageCube","iimage1D","iimage2D","iimage3D","iimageCube","uimage1D","uimage2D","uimage3D","uimageCube","image1DArray","image2DArray","iimage1DArray","iimage2DArray","uimage1DArray","uimage2DArray","image1DShadow","image2DShadow","image1DArrayShadow","image2DArrayShadow","imageBuffer","iimageBuffer","uimageBuffer","sampler1DArray","sampler1DArrayShadow","isampler1D","isampler1DArray","usampler1D","usampler1DArray","isampler2DRect","usampler2DRect","samplerBuffer","isamplerBuffer","usamplerBuffer","sampler2DMS","isampler2DMS","usampler2DMS","sampler2DMSArray","isampler2DMSArray","usampler2DMSArray"])},"9tIV":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=r("q1tI"),i=f(a),s=f(r("JwSf")),u=f(r("M/JY"));function f(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var l=function(e){function t(){var e,r,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return r=n=c(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),n._onRef=function(e){n._node=e},c(n,r)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),o(t,[{key:"getNodeRef",value:function(){return this._node}},{key:"render",value:function(){var e=this.props,t=e.children,r=function(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}(e,["children"]);return i.default.createElement(s.default,n({},r,{ref:this._onRef,shader:u.default,blendFunc:{src:"one",dst:"one minus src alpha"},uniformsOptions:{t:{interpolation:"linear"}},uniforms:{t:t}}))}}]),t}();t.default=l},AAS3:function(e,t,r){var n=r("hYYf");e.exports=function(e,t){var r=n(t),o=[];return o=(o=o.concat(r(e))).concat(r(null))}},B9vp:function(e,t,r){var n=r("4Z/T").sprintf,o=r("tCpK"),a=r("st01"),i=r("kR76");e.exports=function(e,t,r){"use strict";var s=a(t)||"of unknown name (see npm glsl-shader-name)",u="unknown type";void 0!==r&&(u=r===o.FRAGMENT_SHADER?"fragment":"vertex");for(var f=n("Error compiling %s shader %s:\n",u,s),c=n("%s%s",f,e),l=e.split("\n"),h={},p=0;p<l.length;p++){var d=l[p];if(""!==d&&"\0"!==d){var g=parseInt(d.split(":")[2]);if(isNaN(g))throw new Error(n("Could not parse error: %s",d));h[g]=d}}for(var _=i(t).split("\n"),p=0;p<_.length;p++)if(h[p+3]||h[p+2]||h[p+1]){var v=_[p];if(f+=v+"\n",h[p+1]){var y=h[p+1];y=y.substr(y.split(":",3).join(":").length+1).trim(),f+=n("^^^ %s\n\n",y)}}return{long:f.trim(),short:c.trim()}}},BEtg:function(e,t){function r(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}e.exports=function(e){return null!=e&&(r(e)||function(e){return"function"==typeof e.readFloatLE&&"function"==typeof e.slice&&r(e.slice(0,0))}(e)||!!e._isBuffer)}},BkhO:function(e,t,r){var n=r("Xs3h");n=n.slice().filter(function(e){return!/^(gl\_|texture)/.test(e)}),e.exports=n.concat(["gl_VertexID","gl_InstanceID","gl_Position","gl_PointSize","gl_FragCoord","gl_FrontFacing","gl_FragDepth","gl_PointCoord","gl_MaxVertexAttribs","gl_MaxVertexUniformVectors","gl_MaxVertexOutputVectors","gl_MaxFragmentInputVectors","gl_MaxVertexTextureImageUnits","gl_MaxCombinedTextureImageUnits","gl_MaxTextureImageUnits","gl_MaxFragmentUniformVectors","gl_MaxDrawBuffers","gl_MinProgramTexelOffset","gl_MaxProgramTexelOffset","gl_DepthRangeParameters","gl_DepthRange","trunc","round","roundEven","isnan","isinf","floatBitsToInt","floatBitsToUint","intBitsToFloat","uintBitsToFloat","packSnorm2x16","unpackSnorm2x16","packUnorm2x16","unpackUnorm2x16","packHalf2x16","unpackHalf2x16","outerProduct","transpose","determinant","inverse","texture","textureSize","textureProj","textureLod","textureOffset","texelFetch","texelFetchOffset","textureProjOffset","textureLodOffset","textureProjLod","textureProjLodOffset","textureGrad","textureGradOffset","textureProjGrad","textureProjGradOffset"])},Cz5J:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return e.getContext("webgl",t)||e.getContext("webgl-experimental",t)||e.getContext("experimental-webgl",t)}},DolM:function(e,t){function r(e,t){return t||(t=[.5,.5]),function(r,n){var o=r.width/r.height,a=n.width/n.height,i=Math.max(o,a),s=[o/i*n.width*e,a/i*n.height*e];return[n.width*t[0]-s[0]/2,n.height*t[1]-s[1]/2,s[0],s[1]]}}r.largest=r(1),e.exports=r},E8gZ:function(e,t,r){var n=r("w6GO"),o=r("NsO/"),a=r("NV0k").f;e.exports=function(e){return function(t){for(var r,i=o(t),s=n(i),u=s.length,f=0,c=[];u>f;)a.call(i,r=s[f++])&&c.push(e?[r,i[r]]:i[r]);return c}}},EEdt:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=r("TGEO");var a=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.WebGLTextureLoaderAsyncHashCache),n(t,[{key:"canLoad",value:function(e){return e instanceof HTMLVideoElement}},{key:"inputHash",value:function(e){return e}},{key:"loadNoCache",value:function(e){var t=this.gl,r=(e.width,e.height,void 0);return{dispose:function(){clearTimeout(r)},promise:new Promise(function(n,o){!function o(){if(e.videoWidth>0){var a=t.createTexture(),i=e.videoWidth,s=e.videoHeight;t.bindTexture(t.TEXTURE_2D,a),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,e),n({texture:a,width:i,height:s})}else r=setTimeout(o,100)}()})}}},{key:"update",value:function(e){var t=this.gl,r=this.get(e);r&&(t.bindTexture(t.TEXTURE_2D,r.texture),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,e))}}]),t}();o.globalRegistry.add(a),t.default=a},F16p:function(e,t,r){"use strict";e.exports=function(e,t,r){return 0===e.length?e:t?(r||e.sort(t),function(e,t){for(var r=1,n=e.length,o=e[0],a=e[0],i=1;i<n;++i)if(a=o,t(o=e[i],a)){if(i===r){r++;continue}e[r++]=o}return e.length=r,e}(e,t)):(r||e.sort(),function(e){for(var t=1,r=e.length,n=e[0],o=e[0],a=1;a<r;++a,o=n)if(o=n,(n=e[a])!==o){if(a===t){t++;continue}e[t++]=n}return e.length=t,e}(e))}},FRc1:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=r("q1tI"),i=f(a),s=f(r("JwSf")),u=f(r("M/JY"));function f(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var l=function(e){function t(){var e,r,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return r=n=c(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),n._onRef=function(e){n._node=e},c(n,r)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),o(t,[{key:"getNodeRef",value:function(){return this._node}},{key:"render",value:function(){var e=this.props,t=e.children,r=function(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}(e,["children"]);return i.default.createElement(s.default,n({},r,{ref:this._onRef,shader:u.default,blendFunc:{src:"one",dst:"one minus src alpha"},uniformsOptions:{t:{interpolation:"nearest"}},uniforms:{t:t}}))}}]),t}();t.default=l},FbiP:function(e,t,r){e.exports=r("4bdI")},GTa7:function(e,t){e.exports=["precision","highp","mediump","lowp","attribute","const","uniform","varying","break","continue","do","for","while","if","else","in","out","inout","float","int","uint","void","bool","true","false","discard","return","mat2","mat3","mat4","vec2","vec3","vec4","ivec2","ivec3","ivec4","bvec2","bvec3","bvec4","sampler1D","sampler2D","sampler3D","samplerCube","sampler1DShadow","sampler2DShadow","struct","asm","class","union","enum","typedef","template","this","packed","goto","switch","default","inline","noinline","volatile","public","static","extern","external","interface","long","short","double","half","fixed","unsigned","input","output","hvec2","hvec3","hvec4","dvec2","dvec3","dvec4","fvec2","fvec3","fvec4","sampler2DRect","sampler3DRect","sampler2DRectShadow","sizeof","cast","namespace","using"]},H7XF:function(e,t,r){"use strict";t.byteLength=function(e){var t=f(e),r=t[0],n=t[1];return 3*(r+n)/4-n},t.toByteArray=function(e){for(var t,r=f(e),n=r[0],i=r[1],s=new a(function(e,t,r){return 3*(t+r)/4-r}(0,n,i)),u=0,c=i>0?n-4:n,l=0;l<c;l+=4)t=o[e.charCodeAt(l)]<<18|o[e.charCodeAt(l+1)]<<12|o[e.charCodeAt(l+2)]<<6|o[e.charCodeAt(l+3)],s[u++]=t>>16&255,s[u++]=t>>8&255,s[u++]=255&t;2===i&&(t=o[e.charCodeAt(l)]<<2|o[e.charCodeAt(l+1)]>>4,s[u++]=255&t);1===i&&(t=o[e.charCodeAt(l)]<<10|o[e.charCodeAt(l+1)]<<4|o[e.charCodeAt(l+2)]>>2,s[u++]=t>>8&255,s[u++]=255&t);return s},t.fromByteArray=function(e){for(var t,r=e.length,o=r%3,a=[],i=0,s=r-o;i<s;i+=16383)a.push(c(e,i,i+16383>s?s:i+16383));1===o?(t=e[r-1],a.push(n[t>>2]+n[t<<4&63]+"==")):2===o&&(t=(e[r-2]<<8)+e[r-1],a.push(n[t>>10]+n[t>>4&63]+n[t<<2&63]+"="));return a.join("")};for(var n=[],o=[],a="undefined"!=typeof Uint8Array?Uint8Array:Array,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,u=i.length;s<u;++s)n[s]=i[s],o[i.charCodeAt(s)]=s;function f(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");return-1===r&&(r=t),[r,r===t?0:4-r%4]}function c(e,t,r){for(var o,a,i=[],s=t;s<r;s+=3)o=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),i.push(n[(a=o)>>18&63]+n[a>>12&63]+n[a>>6&63]+n[63&a]);return i.join("")}o["-".charCodeAt(0)]=62,o["_".charCodeAt(0)]=63},HYQe:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=r("q1tI"),a=u(o),i=u(r("17x9")),s=u(r("54jV"));function u(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var c=function(e){function t(){var e,r,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return r=n=f(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),n.onRef=function(e){n._ref=e},f(n,r)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.PureComponent),n(t,[{key:"componentDidMount",value:function(){this.ctx=this._ref.getContext("2d"),this.json2d=(0,s.default)(this.ctx,this.props.resolveImage),this.draw(this.props)}},{key:"componentDidUpdate",value:function(){this.draw(this.props)}},{key:"draw",value:function(e){var t=e.children,r=e.renderVisitor;return this.json2d.render(t,r)}},{key:"render",value:function(){var e=this.props,t=e.width,r=e.height,n=e.ratio;return a.default.createElement("canvas",{ref:this.onRef,style:{width:t,height:r},width:t*n,height:r*n})}}]),t}();c.propTypes={children:i.default.object.isRequired,width:i.default.number.isRequired,height:i.default.number.isRequired,ratio:i.default.number,resolveImage:i.default.func,renderVisitor:i.default.func},c.defaultProps={ratio:window.devicePixelRatio},t.default=c},HbIt:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();var o=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.gl=t}return n(e,[{key:"update",value:function(e){}}]),e}();t.default=o},IDFI:function(e,t,r){"use strict";e.exports=function(e){for(var t=new Array(e),r=0;r<e;++r)t[r]=r;return t}},IrQ8:function(e,t,r){"use strict";t.shader=function(e,t,r){return c(e).getShaderReference(t,r)},t.program=function(e,t,r,n,o){return c(e).getProgram(t,r,n,o)};var n=r("o/2B"),o=r("B9vp"),a=new("undefined"==typeof WeakMap?r("/MXg"):WeakMap),i=0;function s(e,t,r,n,o,a,i){this.id=e,this.src=t,this.type=r,this.shader=n,this.count=a,this.programs=[],this.cache=i}function u(e){this.gl=e,this.shaders=[{},{}],this.programs={}}s.prototype.dispose=function(){if(0==--this.count){for(var e=this.cache,t=e.gl,r=this.programs,n=0,o=r.length;n<o;++n){var a=e.programs[r[n]];a&&(delete e.programs[n],t.deleteProgram(a))}t.deleteShader(this.shader),delete e.shaders[this.type===t.FRAGMENT_SHADER|0][this.src]}};var f=u.prototype;function c(e){var t=a.get(e);return t||(t=new u(e),a.set(e,t)),t}f.getShaderReference=function(e,t){var r=this.gl,a=this.shaders[e===r.FRAGMENT_SHADER|0],u=a[t];if(u&&r.isShader(u.shader))u.count+=1;else{var f=function(e,t,r){var a=e.createShader(t);if(e.shaderSource(a,r),e.compileShader(a),!e.getShaderParameter(a,e.COMPILE_STATUS)){var i=e.getShaderInfoLog(a);try{var s=o(i,r,t)}catch(u){throw console.warn("Failed to format compiler error: "+u),new n(i,"Error compiling shader:\n"+i)}throw new n(i,s.short,s.long)}return a}(r,e,t);u=a[t]=new s(i++,t,e,f,[],1,this)}return u},f.getProgram=function(e,t,r,o){var a=[e.id,t.id,r.join(":"),o.join(":")].join("@"),i=this.programs[a];return i&&this.gl.isProgram(i)||(this.programs[a]=i=function(e,t,r,o,a){var i=e.createProgram();e.attachShader(i,t),e.attachShader(i,r);for(var s=0;s<o.length;++s)e.bindAttribLocation(i,a[s],o[s]);if(e.linkProgram(i),!e.getProgramParameter(i,e.LINK_STATUS)){var u=e.getProgramInfoLog(i);throw new n(u,"Error linking program: "+u)}return i}(this.gl,e.shader,t.shader,r,o),e.programs.push(a),t.programs.push(a)),i}},JwSf:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},a=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(n=(i=s.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(u){o=!0,a=u}finally{try{!n&&s.return&&s.return()}finally{if(o)throw a}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s=m(r("QLaP")),u=r("q1tI"),f=m(u),c=m(r("17x9")),l=m(r("zqV6")),h=m(r("tbvF")),p=m(r("nXQg")),d=m(r("dLFq")),g=r("laZL"),_=m(g),v=m(r("Um7X")),y=m(r("5lXm"));function m(e){return e&&e.__esModule?e:{default:e}}function b(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}function E(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var w={zero:"ZERO",one:"ONE","src color":"SRC_COLOR","one minus src color":"ONE_MINUS_SRC_COLOR","src alpha":"SRC_ALPHA","one minus src alpha":"ONE_MINUS_SRC_ALPHA","dst color":"DST_COLOR","one minus dst color":"ONE_MINUS_DST_COLOR","dst alpha":"DST_ALPHA","one minus dst alpha":"ONE_MINUS_DST_ALPHA","constant color":"CONSTANT_COLOR","one minus constant color":"ONE_MINUS_CONSTANT_COLOR","constant alpha":"CONSTANT_ALPHA","one minus constant alpha":"ONE_MINUS_CONSTANT_ALPHA","src alpha saturate":"SRC_ALPHA_SATURATE"},T=function(e,t){var r=e.width,n=e.height,o=t.glSizable;if(r&&n)return[r,n];var i=o.getGLSize(),s=a(i,2),u=s[0],f=s[1];return[r||u,n||f]},A=function(e,t){if(t in e)return e[t];if(t in w){var r=w[t];if(r in e)return e[r]}console.warn("Invalid blendFunc. Got:",t)},R=function(e,t){switch(t){case"clamp to edge":return e.CLAMP_TO_EDGE;case"repeat":return e.REPEAT;case"mirrored repeat":return e.MIRRORED_REPEAT;default:return console.warn("Invalid wrap. Got:",t),e.CLAMP_TO_EDGE}},x=function(e,t,r){var n=e.createFramebuffer();e.bindFramebuffer(e.FRAMEBUFFER,n);var o=e.createTexture();if(!o)throw new Error("createTexture returned null");return e.bindTexture(e.TEXTURE_2D,o),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,t,r,0,e.RGBA,e.UNSIGNED_BYTE,null),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.NEAREST),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,o,0),{handle:n,color:o,bind:function(){e.bindFramebuffer(e.FRAMEBUFFER,n),e.viewport(0,0,t,r)},syncSize:function(n,a){n===t&&a===r||(t=n,r=a,e.bindTexture(e.TEXTURE_2D,o),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,n,a,0,e.RGBA,e.UNSIGNED_BYTE,null))},dispose:function(){e.deleteFramebuffer(n),e.deleteTexture(o)}}},S={interpolation:"linear",wrap:["clamp to edge","clamp to edge"]},O=function(e,t){var r=o({},S,t),n=function(e,t){switch(t){case"linear":return e.LINEAR;case"nearest":return e.NEAREST;default:return console.warn("Invalid interpolation. Got:",t),e.LINEAR}}(e,r.interpolation);e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,n),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,n);var a=void 0,i=void 0;Array.isArray(r.wrap)?2!==r.wrap.length?(console.warn("textureOptions wrap: should be an array of 2 values. Got:",r.wrap),a=i=e.CLAMP_TO_EDGE):(a=R(e,r.wrap[0]),i=R(e,r.wrap[1])):a=i=R(e,r.wrap),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,a),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,i)},L={shader:c.default.object.isRequired,uniformsOptions:c.default.object,uniforms:c.default.object,ignoreUnusedUniforms:c.default.any,sync:c.default.bool,width:c.default.number,height:c.default.number,children:c.default.any,backbuffering:c.default.bool,blendFunc:c.default.object,clear:c.default.object,onDraw:c.default.func},N=function(e){function t(){var e,r,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return r=n=E(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),n.drawProps=n.props,n._needsRedraw=!1,n.id=(0,y.default)(),n.uniformsBus={},n.dependencies=[],n.dependents=[],n._resolveElement=function(e,t,r){if(!f.default.isValidElement(t)){if("function"!=typeof t)return;if(t=t(n.redraw),!f.default.isValidElement(t))return}return f.default.createElement(d.default,{key:e+(r?"."+r:""),uniform:e,index:r},t)},n._renderUniformElement=function(e){var t=n.props.uniforms[e];return Array.isArray(t)?t.map(function(t,r){return n._resolveElement(e,t,r)}):n._resolveElement(e,t,0)},n.redraw=function(){n._needsRedraw||(n._needsRedraw=!0,n.dependents.forEach(function(e){return e.redraw()}))},n.flush=function(){n.context.glSurface._draw()},E(n,r)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u.Component),n(t,[{key:"getChildContext",value:function(){return{glParent:this,glSizable:this}}},{key:"componentDidMount",value:function(){var e=this.context.glSurface.gl;e&&this._prepareGLObjects(e),this.context.glParent._addGLNodeChild(this),this.redraw(),this.props.sync&&this.flush()}},{key:"componentWillUnmount",value:function(){var e=this,t=this.capturePixelsArray;this._destroyGLObjects(),t&&l.default.freeUint8(t),this._needsRedraw=!1,this.context.glParent._removeGLNodeChild(this),this.dependencies.forEach(function(t){return t._removeDependent(e)})}},{key:"_syncNextDrawProps",value:function(e,t){var r,n,o=T(e,t);this.framebuffer&&(r=this.framebuffer).syncSize.apply(r,b(o));this.backbuffer&&(n=this.backbuffer).syncSize.apply(n,b(o));(0,s.default)(e.backbuffering===this.drawProps.backbuffering,"Node backbuffering prop must not changed. (not yet supported)"),this.drawProps=e}},{key:"render",value:function(){var e=this.props,t=e.children,r=e.uniforms,n=this.context.glSurface.RenderLessElement;return f.default.createElement(n,null,t,Object.keys(r).map(this._renderUniformElement))}},{key:"componentDidUpdate",value:function(){this._syncNextDrawProps(this.props,this.context),this.redraw(),this.props.sync&&this.flush()}},{key:"getGLShortName",value:function(){var e=this.drawProps.shader;return"Node("+((0,g.isShaderIdentifier)(e)?_.default.getShortName(e):"<inline>")+")"}},{key:"getGLName",value:function(){var e=this.drawProps.shader,t=(0,g.isShaderIdentifier)(e)?_.default.getName(e):"<inline>";return"Node#"+this.id+"("+t+")"}},{key:"getGLSize",value:function(){return T(this.drawProps,this.context)}},{key:"getGLOutput",value:function(){var e=this.framebuffer;return(0,s.default)(e,"Node#getGLOutput: framebuffer is not defined. It cannot be called on a root Node"),e.color}},{key:"getGLBackbufferOutput",value:function(){var e=this.backbuffer;return(0,s.default)(e,"Node#getGLBackbufferOutput: backbuffer is not defined. Make sure `backbuffering` prop is defined"),e.color}},{key:"setDrawProps",value:function(e){var t=o({},this.drawProps,e);this._syncNextDrawProps(t,this.context),this.redraw(),t.sync&&this.flush()}},{key:"capture",value:function(e,t,r,n){var o=this.getGLSize(),i=a(o,2),u=i[0],f=i[1],c=this.context.glSurface.gl;(0,s.default)(c,"gl is no longer available"),void 0===e&&(e=0),void 0===t&&(t=0),void 0===r&&(r=u-e),void 0===n&&(n=f-t),(0,s.default)(e>=0&&e+r<=u&&t>=0&&t+n<=f,"capture(%s,%s,%s,%s): requested rectangle is out of bounds (%s,%s)",e,t,r,n,u,f);var l=r*n*4,p=this._captureAlloc(l);return this._bind(),c.readPixels(e,t,r,n,c.RGBA,c.UNSIGNED_BYTE,p),(0,h.default)(p,[n,r,4]).step(-1,1,1).transpose(1,0,2)}},{key:"_destroyGLObjects",value:function(){if(this.context.glSurface.glIsAvailable()){var e=this.framebuffer,t=this.backbuffer,r=this._shader;r&&r.dispose(),e&&e.dispose(),t&&t.dispose()}delete this._shader,delete this.framebuffer,delete this.backbuffer}},{key:"_prepareGLObjects",value:function(e){var t=this.getGLSize(),r=a(t,2),n=r[0],o=r[1],i=this.context;if(i.glParent===i.glSurface)(0,s.default)(!this.drawProps.backbuffering,"`backbuffering` is currently not supported for a Root Node. Try to wrap %s in a <LinearCopy> or <NearestCopy>.",this.getGLName());else{var u=x(e,n,o);if(this.framebuffer=u,this.drawProps.backbuffering){var f=x(e,n,o);this.backbuffer=f}}}},{key:"_onContextLost",value:function(){this.dependencies.forEach(function(e){return e._onContextLost()}),this._destroyGLObjects()}},{key:"_onContextRestored",value:function(e){this._prepareGLObjects(e),this.dependencies.forEach(function(t){return t._onContextRestored(e)}),this._needsRedraw=!0}},{key:"_addGLNodeChild",value:function(e){}},{key:"_removeGLNodeChild",value:function(e){}},{key:"_addUniformBus",value:function(e,t,r){(this.uniformsBus[t]||(this.uniformsBus[t]=[]))[r]=e}},{key:"_removeUniformBus",value:function(e,t,r){var n=this.uniformsBus[t]||(this.uniformsBus[t]=[]);n[r]===e&&(n[r]=null)}},{key:"_addDependent",value:function(e){-1===this.dependents.indexOf(e)&&((0,v.default)(this,e),this.dependents.push(e))}},{key:"_removeDependent",value:function(e){var t=this.dependents.indexOf(e);-1!==t&&this.dependents.splice(t,1)}},{key:"_syncDependencies",value:function(e){var t=this,r=this.dependencies,n=e.filter(function(e){return-1===r.indexOf(e)}),o=r.filter(function(t){return-1===e.indexOf(t)});return n.forEach(function(e){return e._addDependent(t)}),o.forEach(function(e){return e._removeDependent(t)}),this.dependencies=e,[n,o]}},{key:"_bind",value:function(){this.framebuffer?this.framebuffer.bind():this.context.glSurface._bindRootNode()}},{key:"_captureAlloc",value:function(e){var t=this.capturePixelsArray;t&&e!==t.length&&(l.default.freeUint8(t),t=null);var r=t||l.default.mallocUint8(e);return this.capturePixelsArray=r,r}},{key:"_getShader",value:function(e){var t=this.context.glSurface,r=this.getGLName();if((0,s.default)(e,r+": shader prop must be provided"),(0,g.isShaderIdentifier)(e))return t._getShader(e);var n=(0,g.shaderDefinitionToShaderInfo)((0,g.ensureShaderDefinition)(e," in "+r)),o=this._latestShaderInfo,a=this._shader;return a&&o&&(0,g.shaderInfoEquals)(o,n)||(a&&(a.dispose(),delete this._shader),a=t._makeShader(n),this._latestShaderInfo=n,this._shader=a),a}},{key:"_draw",value:function(){var e=this,r=this.context.glSurface,n=r.gl,o=r.getVisitors(),u=this.getGLName();if(n&&this._needsRedraw){var f=this.drawProps,c=f.backbuffering,l=f.uniforms,h=f.uniformsOptions,g=f.shader,_=f.blendFunc,v=f.clear,y=f.onDraw,m=f.ignoreUnusedUniforms;if(!this.framebuffer){var E=this.context.glSizable.getGLSize(),w=a(E,2),T=w[0],R=w[1],x=this.getGLSize(),S=a(x,2),L=S[0],N=S[1];(0,s.default)(L===T&&N===R,u+" is root but have overrided {width=%s,height=%s} which doesn't match Surface size {width=%s,height=%s}. Try to wrap your Node in a <NearestCopy> or <LinearCopy>",L,N,T,R)}var P=this._getShader(g);this._needsRedraw=!1;var C=P.types,I=[],j=[],k=0,M=Object.keys(C.uniforms),U=Object.keys(l),D=this.uniformsBus;for(var B in D)B in l||U.push(B);var F=new Map,G=function(o,a,f){var c=o,l=void 0,h=void 0;if("function"==typeof c&&(c=c(e.redraw)),c){if(function(e){return"Backbuffer"===e?(console.warn('Backbuffer is deprecated, use Uniform.Backbuffer instead: `import {Uniform} from "gl-react"`'),!0):e===p.default.Backbuffer}(c))e.drawProps.backbuffering||console.warn(u+", uniform "+f+": you must set `backbuffering` on Node when using Backbuffer"),h={glNode:e,glNodePickBackbuffer:!0};else if(function(e){return e&&"object"===(void 0===e?"undefined":i(e))&&"BackbufferFrom"===e.type}(c)){(0,s.default)("object"===(void 0===c?"undefined":i(c)),"invalid backbufferFromNode. Got: %s",c);var g=c.node;g instanceof d.default&&(g=g.getGLRenderableNode(),(0,s.default)(g,"backbufferFromNode(bus) but bus.getGLRenderableNode() is %s",g)),(0,s.default)(g instanceof t,"invalid backbufferFromNode(obj): obj must be an instanceof Node or Bus. Got: %s",c),g.drawProps.backbuffering||console.warn(u+", uniform "+f+": you must set `backbuffering` on the Node referenced in backbufferFrom("+g.getGLName()+")"),h={glNode:g,glNodePickBackbuffer:!0}}else if(c instanceof t)l=c,h={glNode:c};else if(c instanceof d.default){var _=c.getGLRenderableNode();if(_)l=_,h={glNode:_};else{l=c;var v=c.getGLRenderableContent();v?c=v:(console.warn(u+", uniform "+f+": child is not renderable. Got:",v),h={directTexture:null})}}}else void 0===c&&console.warn(u+", uniform '"+f+"' is undefined.If you explicitely want to clear a texture, set it to null.");if(!h&&c){var y=r._resolveTextureLoader(c),m=y.loader,b=y.input;if(m){var E=m.get(b);if(E)m.update(b),h={directTexture:E.texture,directTextureSize:[E.width,E.height]};else{var w=m.load(b);j.push(w)}}else console.warn(u+", uniform "+f+": no loader found for value",b,c)}l&&I.push(l);var T=h?a:null;return{getMetaInfo:function(){return{initialObj:o,obj:c,dependency:l,textureOptions:T}},getSize:function(){var e=[2,2];return h?"directTextureSize"in h?h.directTextureSize:h.glNode?h.glNode.getGLSize():e:e},prepare:function(){var e=h&&(h.directTexture||h.glNode&&(h.glNodePickBackbuffer?h.glNode.getGLBackbufferOutput():h.glNode.getGLOutput()))||r.getEmptyTexture();if(F.has(e))return F.get(e);var t=k++;return n.activeTexture(n.TEXTURE0+t),n.bindTexture(n.TEXTURE_2D,e),O(n,T),F.set(e,t),t}}},V=U.map(function(t){var r=C.uniforms[t];if(!r)return!0===m||m instanceof Array&&m.includes(t)||console.warn(u+" uniform '"+t+"' is not declared, nor used, in your shader code"),{key:t,value:void 0};var n,o=l[t];if(M.splice(M.indexOf(t),1),"sampler2D"===r){var a=D[t],f=G(a&&a[0]||o,h[t],t),c=f.getMetaInfo,d=f.prepare;return{key:t,type:r,getMetaInfo:c,prepare:d}}if(o===p.default.Resolution)return{key:t,type:r,value:e.getGLSize()};if((n=o)&&"object"===(void 0===n?"undefined":i(n))&&"TextureSize"===n.type){(0,s.default)(o&&"object"===(void 0===o?"undefined":i(o)),"unexpected textureSize object. Got: %s",o);var g=(0,G(o.obj,null,t).getSize)();g||console.warn(u+", uniform "+t+": texture size is undetermined");var _=o.ratio?g?g[0]/g[1]:1:g||[0,0];return{key:t,type:r,value:_}}if(Array.isArray(r)&&"sampler2D"===r[0]){var v=void 0,y=D[t],b=function(e,t){for(var r=[],n=Math.max(e.length,t.length),o=0;o<n;o++)r[o]=t[o]||e[o];return r}(Array.isArray(o)?o:[],Array.isArray(y)?y:[]);b.length?b.length!==r.length?(console.warn(u+", uniform '"+t+"' should be an array of exactly "+r.length+" textures (not "+b.length+")."),v=r.map(function(){return null})):v=b:(console.warn(u+", uniform '"+t+"' should be an array of textures."),v=r.map(function(){return null}));var E=h[t],w=v.map(function(e,r){return G(e,E,t+"["+r+"]")});return{key:t,type:r,getMetaInfo:function(){return w.reduce(function(e,t){return e.concat(t.getMetaInfo())},[])},prepare:function(){return w.map(function(e){return e.prepare()})}}}return void 0===o&&console.warn(u+", uniform '"+t+"' is undefined."),{key:t,type:r,value:o}});if(0!==M.length&&console.warn(u+": Missing uniforms: "+M.map(function(e){return"'"+e+"'"}).join(", ")+"\nall uniforms must be provided because implementations might share and reuse a Shader Program"),j.length>0)return Promise.all(j).then(this.redraw),void o.forEach(function(t){return t.onNodeDrawSkipped(e)});o.forEach(function(t){return t.onNodeDrawStart(e)});var z=this._syncDependencies(I),X=a(z,2),H=X[0],Y=X[1];if(o.forEach(function(t){return t.onNodeSyncDeps(e,H,Y)}),c){var q=this.backbuffer,W=this.framebuffer;this.backbuffer=W,q&&(this.framebuffer=q)}if(this.dependencies.forEach(function(e){return e._draw()}),o.forEach(function(t){return t.onNodeDraw(e,V)}),P.bind(),this._bind(),V.forEach(function(e){var t=e.prepare?e.prepare():e.value;void 0!==t&&(P.uniforms[e.key]=t)}),_){var K=A(n,_.src),Z=A(n,_.dst);K&&Z&&n.blendFunc(K,Z)}v&&(n.clearColor.apply(n,b(v.color)),n.clear(n.COLOR_BUFFER_BIT)),n.drawArrays(n.TRIANGLES,0,3),y&&y(),o.forEach(function(t){return t.onNodeDrawEnd(e)})}else o.forEach(function(t){return t.onNodeDrawSkipped(e)})}}]),t}();N.propTypes=L,N.defaultProps={uniformsOptions:{},uniforms:{},blendFunc:{src:"src alpha",dst:"one minus src alpha"},clear:{color:[0,0,0,0]}},N.contextTypes={glParent:c.default.object.isRequired,glSurface:c.default.object.isRequired,glSizable:c.default.object.isRequired},N.childContextTypes={glParent:c.default.object.isRequired,glSizable:c.default.object.isRequired},t.default=N},KN1S:function(e,t,r){"use strict";var n=r("0GS4"),o=r("fpEm"),a=r("63NL"),i=r("IrQ8"),s=r("1BqX"),u=r("o/2B");function f(e){this.gl=e,this.gl.lastAttribCount=0,this._vref=this._fref=this._relink=this.vertShader=this.fragShader=this.program=this.attributes=this.uniforms=this.types=null}var c=f.prototype;function l(e,t){return e.name<t.name?-1:1}c.bind=function(){var e;this.program||this._relink();var t=this.gl.getProgramParameter(this.program,this.gl.ACTIVE_ATTRIBUTES),r=this.gl.lastAttribCount;if(t>r)for(e=r;e<t;e++)this.gl.enableVertexAttribArray(e);else if(r>t)for(e=t;e<r;e++)this.gl.disableVertexAttribArray(e);this.gl.lastAttribCount=t,this.gl.useProgram(this.program)},c.dispose=function(){for(var e=this.gl.lastAttribCount,t=0;t<e;t++)this.gl.disableVertexAttribArray(t);this.gl.lastAttribCount=0,this._fref&&this._fref.dispose(),this._vref&&this._vref.dispose(),this.attributes=this.types=this.vertShader=this.fragShader=this.program=this._relink=this._fref=this._vref=null},c.update=function(e,t,r,f){if(!t||1===arguments.length){var c=e;e=c.vertex,t=c.fragment,r=c.uniforms,f=c.attributes}var h=this,p=h.gl,d=h._vref;h._vref=i.shader(p,p.VERTEX_SHADER,e),d&&d.dispose(),h.vertShader=h._vref.shader;var g=this._fref;if(h._fref=i.shader(p,p.FRAGMENT_SHADER,t),g&&g.dispose(),h.fragShader=h._fref.shader,!r||!f){var _=p.createProgram();if(p.attachShader(_,h.fragShader),p.attachShader(_,h.vertShader),p.linkProgram(_),!p.getProgramParameter(_,p.LINK_STATUS)){var v=p.getProgramInfoLog(_);throw new u(v,"Error linking program:"+v)}r=r||s.uniforms(p,_),f=f||s.attributes(p,_),p.deleteProgram(_)}(f=f.slice()).sort(l);var y,m=[],b=[],E=[];for(y=0;y<f.length;++y){var w=f[y];if(w.type.indexOf("mat")>=0){for(var T=0|w.type.charAt(w.type.length-1),A=new Array(T),R=0;R<T;++R)A[R]=E.length,b.push(w.name+"["+R+"]"),"number"==typeof w.location?E.push(w.location+R):Array.isArray(w.location)&&w.location.length===T&&"number"==typeof w.location[R]?E.push(0|w.location[R]):E.push(-1);m.push({name:w.name,type:w.type,locations:A})}else m.push({name:w.name,type:w.type,locations:[E.length]}),b.push(w.name),"number"==typeof w.location?E.push(0|w.location):E.push(-1)}var x=0;for(y=0;y<E.length;++y)if(E[y]<0){for(;E.indexOf(x)>=0;)x+=1;E[y]=x}var S=new Array(r.length);function O(){h.program=i.program(p,h._vref,h._fref,b,E);for(var e=0;e<r.length;++e)S[e]=p.getUniformLocation(h.program,r[e].name)}O(),h._relink=O,h.types={uniforms:a(r),attributes:a(f)},h.attributes=o(p,h,m,E),Object.defineProperty(h,"uniforms",n(p,h,r,S))},e.exports=function(e,t,r,n,o){var a=new f(e);return a.update(t,r,n,o),a}},LhdL:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=r("OTww"),i=(n=a)&&n.__esModule?n:{default:n};var s=function(){function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i.default;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.loaders=r.get().map(function(e){return new e(t)})}return o(e,[{key:"dispose",value:function(){this.loaders.forEach(function(e){return e.dispose()})}},{key:"resolve",value:function(e){return this.loaders.find(function(t){return t.canLoad(e)})}}]),e}();t.default=s},"M/JY":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o,a=(n=["\nprecision highp float;\nvarying vec2 uv;\nuniform sampler2D t;\nvoid main(){\n  gl_FragColor=texture2D(t,uv);\n}"],o=["\nprecision highp float;\nvarying vec2 uv;\nuniform sampler2D t;\nvoid main(){\n  gl_FragColor=texture2D(t,uv);\n}"],Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(o)}}))),i=u(r("dEu3")),s=u(r("laZL"));function u(e){return e&&e.__esModule?e:{default:e}}t.default=s.default.create({copy:{frag:(0,i.default)(a)}}).copy},Ni9w:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();var o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._loaders=[]}return n(e,[{key:"add",value:function(e){this._loaders.push(e),this._loaders.sort(function(e,t){return("number"==typeof t.priority?t.priority:0)-("number"==typeof e.priority?e.priority:0)})}},{key:"remove",value:function(e){var t=this._loaders.indexOf(e);-1!==t&&this._loaders.splice(t,1)}},{key:"get",value:function(){return this._loaders}}]),e}();t.default=o},O8XB:function(e,t,r){"use strict";(function(e,n){Object.defineProperty(t,"__esModule",{value:!0});var o,a,i=f(r("tbvF")),s=f(r("Ytbt")),u=f(r("zqV6"));function f(e){return e&&e.__esModule?e:{default:e}}void 0===e&&(n.Buffer=(a=o=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)},o.isBuffer=function(t){return t instanceof e},a));t.default=function(e,t,r,n){var o=r.dtype,a=r.shape.slice(),f=e.getParameter(e.MAX_TEXTURE_SIZE);if(a[0]<0||a[0]>f||a[1]<0||a[1]>f)throw new Error("gl-react: Invalid texture size");var c=function(e,t){return 3===e.length?1===t[2]&&t[1]===e[0]*e[2]&&t[0]===e[2]:1===t[0]&&t[1]===e[0]}(a,r.stride.slice()),l=0;"float32"===o?l=e.FLOAT:"float64"===o?(l=e.FLOAT,c=!1,o="float32"):"uint8"===o?l=e.UNSIGNED_BYTE:(l=e.UNSIGNED_BYTE,c=!1,o="uint8");var h=0;if(2===a.length)h=e.LUMINANCE,a=[a[0],a[1],1],r=(0,i.default)(r.data,a,[r.stride[0],r.stride[1],1],r.offset);else{if(3!==a.length)throw new Error("gl-texture2d: Invalid shape for texture");if(1===a[2])h=e.ALPHA;else if(2===a[2])h=e.LUMINANCE_ALPHA;else if(3===a[2])h=e.RGB;else{if(4!==a[2])throw new Error("gl-texture2d: Invalid shape for pixel coords");h=e.RGBA}}l!==e.FLOAT||n||(l=e.UNSIGNED_BYTE,c=!1);var p,d,g=void 0,_=void 0,v=r.size;if(c)g=0===r.offset&&r.data.length===v?r.data:r.data.subarray(r.offset,r.offset+v);else{var y=[a[2],a[2]*a[0],1];_=u.default.malloc(v,o);var m=(0,i.default)(_,a,y,0);"float32"!==o&&"float64"!==o||l!==e.UNSIGNED_BYTE?s.default.assign(m,r):(p=m,d=r,s.default.muls(p,d,255)),g=_.subarray(0,v)}e.texImage2D(e.TEXTURE_2D,0,h,a[0],a[1],0,h,l,g),_&&u.default.free(_)}}).call(this,r("tjlA").Buffer,r("3r9c"))},OTww:function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var n,o=r("Ni9w"),a=(n=o)&&n.__esModule?n:{default:n};var i="undefined"==typeof window?e:window,s="__webglTextureLoader_registry";t.default=i[s]||(i[s]=new a.default)}).call(this,r("3r9c"))},QM7d:function(e,t,r){"use strict";var n=r("033R");function o(){this.argTypes=[],this.shimArgs=[],this.arrayArgs=[],this.arrayBlockIndices=[],this.scalarArgs=[],this.offsetArgs=[],this.offsetArgIndex=[],this.indexArgs=[],this.shapeArgs=[],this.funcName="",this.pre=null,this.body=null,this.post=null,this.debug=!1}e.exports=function(e){var t=new o;t.pre=e.pre,t.body=e.body,t.post=e.post;var r=e.args.slice(0);t.argTypes=r;for(var a=0;a<r.length;++a){var i=r[a];if("array"===i||"object"==typeof i&&i.blockIndices){if(t.argTypes[a]="array",t.arrayArgs.push(a),t.arrayBlockIndices.push(i.blockIndices?i.blockIndices:0),t.shimArgs.push("array"+a),a<t.pre.args.length&&t.pre.args[a].count>0)throw new Error("cwise: pre() block may not reference array args");if(a<t.post.args.length&&t.post.args[a].count>0)throw new Error("cwise: post() block may not reference array args")}else if("scalar"===i)t.scalarArgs.push(a),t.shimArgs.push("scalar"+a);else if("index"===i){if(t.indexArgs.push(a),a<t.pre.args.length&&t.pre.args[a].count>0)throw new Error("cwise: pre() block may not reference array index");if(a<t.body.args.length&&t.body.args[a].lvalue)throw new Error("cwise: body() block may not write to array index");if(a<t.post.args.length&&t.post.args[a].count>0)throw new Error("cwise: post() block may not reference array index")}else if("shape"===i){if(t.shapeArgs.push(a),a<t.pre.args.length&&t.pre.args[a].lvalue)throw new Error("cwise: pre() block may not write to array shape");if(a<t.body.args.length&&t.body.args[a].lvalue)throw new Error("cwise: body() block may not write to array shape");if(a<t.post.args.length&&t.post.args[a].lvalue)throw new Error("cwise: post() block may not write to array shape")}else{if("object"!=typeof i||!i.offset)throw new Error("cwise: Unknown argument type "+r[a]);t.argTypes[a]="offset",t.offsetArgs.push({array:i.array,offset:i.offset}),t.offsetArgIndex.push(a)}}if(t.arrayArgs.length<=0)throw new Error("cwise: No array arguments specified");if(t.pre.args.length>r.length)throw new Error("cwise: Too many arguments in pre() block");if(t.body.args.length>r.length)throw new Error("cwise: Too many arguments in body() block");if(t.post.args.length>r.length)throw new Error("cwise: Too many arguments in post() block");return t.debug=!!e.printCode||!!e.debug,t.funcName=e.funcName||"cwise",t.blockSize=e.blockSize||64,n(t)}},RjOF:function(e,t,r){"use strict";var n,o="";e.exports=function(e,t){if("string"!=typeof e)throw new TypeError("expected a string");if(1===t)return e;if(2===t)return e+e;var r=e.length*t;if(n!==e||void 0===n)n=e,o="";else if(o.length>=r)return o.substr(0,r);for(;r>o.length&&t>1;)1&t&&(o+=e),t>>=1,e+=e;return o=(o+=e).substr(0,r)}},Ry8g:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.getExtension("WEBGL_lose_context");t&&t.loseContext()}},SMLl:function(e,t,r){"use strict";var n=r("RjOF");e.exports=function(e,t,r){return n(r=void 0!==r?r+"":" ",t)+e}},TBio:function(e,t,r){"use strict";var n=r("F16p");function o(e,t,r){var n,o,a=e.length,i=t.arrayArgs.length,s=t.indexArgs.length>0,u=[],f=[],c=0,l=0;for(n=0;n<a;++n)f.push(["i",n,"=0"].join(""));for(o=0;o<i;++o)for(n=0;n<a;++n)l=c,c=e[n],0===n?f.push(["d",o,"s",n,"=t",o,"p",c].join("")):f.push(["d",o,"s",n,"=(t",o,"p",c,"-s",l,"*t",o,"p",l,")"].join(""));for(f.length>0&&u.push("var "+f.join(",")),n=a-1;n>=0;--n)c=e[n],u.push(["for(i",n,"=0;i",n,"<s",c,";++i",n,"){"].join(""));for(u.push(r),n=0;n<a;++n){for(l=c,c=e[n],o=0;o<i;++o)u.push(["p",o,"+=d",o,"s",n].join(""));s&&(n>0&&u.push(["index[",l,"]-=s",l].join("")),u.push(["++index[",c,"]"].join(""))),u.push("}")}return u.join("\n")}function a(e,t,r){for(var n=e.body,o=[],a=[],i=0;i<e.args.length;++i){var s=e.args[i];if(!(s.count<=0)){var u=new RegExp(s.name,"g"),f="",c=t.arrayArgs.indexOf(i);switch(t.argTypes[i]){case"offset":var l=t.offsetArgIndex.indexOf(i);c=t.offsetArgs[l].array,f="+q"+l;case"array":f="p"+c+f;var h="l"+i,p="a"+c;if(0===t.arrayBlockIndices[c])1===s.count?"generic"===r[c]?s.lvalue?(o.push(["var ",h,"=",p,".get(",f,")"].join("")),n=n.replace(u,h),a.push([p,".set(",f,",",h,")"].join(""))):n=n.replace(u,[p,".get(",f,")"].join("")):n=n.replace(u,[p,"[",f,"]"].join("")):"generic"===r[c]?(o.push(["var ",h,"=",p,".get(",f,")"].join("")),n=n.replace(u,h),s.lvalue&&a.push([p,".set(",f,",",h,")"].join(""))):(o.push(["var ",h,"=",p,"[",f,"]"].join("")),n=n.replace(u,h),s.lvalue&&a.push([p,"[",f,"]=",h].join("")));else{for(var d=[s.name],g=[f],_=0;_<Math.abs(t.arrayBlockIndices[c]);_++)d.push("\\s*\\[([^\\]]+)\\]"),g.push("$"+(_+1)+"*t"+c+"b"+_);if(u=new RegExp(d.join(""),"g"),f=g.join("+"),"generic"===r[c])throw new Error("cwise: Generic arrays not supported in combination with blocks!");n=n.replace(u,[p,"[",f,"]"].join(""))}break;case"scalar":n=n.replace(u,"Y"+t.scalarArgs.indexOf(i));break;case"index":n=n.replace(u,"index");break;case"shape":n=n.replace(u,"shape")}}}return[o.join("\n"),n,a.join("\n")].join("\n").trim()}function i(e){for(var t=new Array(e.length),r=!0,n=0;n<e.length;++n){var o=e[n],a=o.match(/\d+/);a=a?a[0]:"",0===o.charAt(0)?t[n]="u"+o.charAt(1)+a:t[n]=o.charAt(0)+a,n>0&&(r=r&&t[n]===t[n-1])}return r?t[0]:t.join("")}e.exports=function(e,t){for(var r=t[1].length-Math.abs(e.arrayBlockIndices[0])|0,s=new Array(e.arrayArgs.length),u=new Array(e.arrayArgs.length),f=0;f<e.arrayArgs.length;++f)u[f]=t[2*f],s[f]=t[2*f+1];var c=[],l=[],h=[],p=[],d=[];for(f=0;f<e.arrayArgs.length;++f){e.arrayBlockIndices[f]<0?(h.push(0),p.push(r),c.push(r),l.push(r+e.arrayBlockIndices[f])):(h.push(e.arrayBlockIndices[f]),p.push(e.arrayBlockIndices[f]+r),c.push(0),l.push(e.arrayBlockIndices[f]));for(var g=[],_=0;_<s[f].length;_++)h[f]<=s[f][_]&&s[f][_]<p[f]&&g.push(s[f][_]-h[f]);d.push(g)}var v=["SS"],y=["'use strict'"],m=[];for(_=0;_<r;++_)m.push(["s",_,"=SS[",_,"]"].join(""));for(f=0;f<e.arrayArgs.length;++f){for(v.push("a"+f),v.push("t"+f),v.push("p"+f),_=0;_<r;++_)m.push(["t",f,"p",_,"=t",f,"[",h[f]+_,"]"].join(""));for(_=0;_<Math.abs(e.arrayBlockIndices[f]);++_)m.push(["t",f,"b",_,"=t",f,"[",c[f]+_,"]"].join(""))}for(f=0;f<e.scalarArgs.length;++f)v.push("Y"+f);if(e.shapeArgs.length>0&&m.push("shape=SS.slice(0)"),e.indexArgs.length>0){var b=new Array(r);for(f=0;f<r;++f)b[f]="0";m.push(["index=[",b.join(","),"]"].join(""))}for(f=0;f<e.offsetArgs.length;++f){var E=e.offsetArgs[f],w=[];for(_=0;_<E.offset.length;++_)0!==E.offset[_]&&(1===E.offset[_]?w.push(["t",E.array,"p",_].join("")):w.push([E.offset[_],"*t",E.array,"p",_].join("")));0===w.length?m.push("q"+f+"=0"):m.push(["q",f,"=",w.join("+")].join(""))}var T=n([].concat(e.pre.thisVars).concat(e.body.thisVars).concat(e.post.thisVars));for((m=m.concat(T)).length>0&&y.push("var "+m.join(",")),f=0;f<e.arrayArgs.length;++f)y.push("p"+f+"|=0");e.pre.body.length>3&&y.push(a(e.pre,e,u));var A=a(e.body,e,u),R=function(e){for(var t=0,r=e[0].length;t<r;){for(var n=1;n<e.length;++n)if(e[n][t]!==e[0][t])return t;++t}return t}(d);R<r?y.push(function(e,t,r,n){for(var a=t.length,i=r.arrayArgs.length,s=r.blockSize,u=r.indexArgs.length>0,f=[],c=0;c<i;++c)f.push(["var offset",c,"=p",c].join(""));for(c=e;c<a;++c)f.push(["for(var j"+c+"=SS[",t[c],"]|0;j",c,">0;){"].join("")),f.push(["if(j",c,"<",s,"){"].join("")),f.push(["s",t[c],"=j",c].join("")),f.push(["j",c,"=0"].join("")),f.push(["}else{s",t[c],"=",s].join("")),f.push(["j",c,"-=",s,"}"].join("")),u&&f.push(["index[",t[c],"]=j",c].join(""));for(c=0;c<i;++c){for(var l=["offset"+c],h=e;h<a;++h)l.push(["j",h,"*t",c,"p",t[h]].join(""));f.push(["p",c,"=(",l.join("+"),")"].join(""))}for(f.push(o(t,r,n)),c=e;c<a;++c)f.push("}");return f.join("\n")}(R,d[0],e,A)):y.push(o(d[0],e,A)),e.post.body.length>3&&y.push(a(e.post,e,u)),e.debug&&console.log("-----Generated cwise routine for ",t,":\n"+y.join("\n")+"\n----------");var x=[e.funcName||"unnamed","_cwise_loop_",s[0].join("s"),"m",R,i(u)].join("");return new Function(["function ",x,"(",v.join(","),"){",y.join("\n"),"} return ",x].join(""))()}},TGEO:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WebGLTextureLoaderSyncHashCache=t.WebGLTextureLoaderAsyncHashCache=t.WebGLTextureLoader=t.LoaderResolver=t.LoadersRegistry=t.globalRegistry=void 0;var n=f(r("HbIt")),o=f(r("cDsr")),a=f(r("VYxY")),i=f(r("Ni9w")),s=f(r("LhdL")),u=f(r("OTww"));function f(e){return e&&e.__esModule?e:{default:e}}t.globalRegistry=u.default,t.LoadersRegistry=i.default,t.LoaderResolver=s.default,t.WebGLTextureLoader=n.default,t.WebGLTextureLoaderAsyncHashCache=o.default,t.WebGLTextureLoaderSyncHashCache=a.default},UWhB:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(n=(i=s.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(u){o=!0,a=u}finally{try{!n&&s.return&&s.return()}finally{if(o)throw a}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=s(r("dv69")),i=s(r("8e5R"));function s(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var f=function(e){function t(){var e,r,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return r=n=u(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),n.groupNestedLvl=0,u(n,r)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default),o(t,[{key:"onSurfaceGLContextChange",value:function(e,t){t?(0,a.default)(e.getGLName()+" _context acquired_"):(0,a.default)(e.getGLName()+" _context lost_")}},{key:"onSurfaceDrawSkipped",value:function(){}},{key:"onSurfaceDrawStart",value:function(e){var t=e.getGLSize(),r=n(t,2),o=r[0],i=r[1];console.groupCollapsed("Surface draw"),this.groupNestedLvl=1,(0,a.default)("_size_ `"+o+"`x`"+i+"`")}},{key:"onSurfaceDrawError",value:function(e){for(console.error(e);this.groupNestedLvl>0;)console.groupEnd(),this.groupNestedLvl--;return!0}},{key:"onSurfaceDrawEnd",value:function(){this.groupNestedLvl--,console.groupEnd()}},{key:"onNodeDrawSkipped",value:function(e){(0,a.default)(e.getGLName()+" redraw _skipped_: "+(e.context.glSurface.gl?e._needsRedraw?"":"no need to redraw":"no gl context available!"))}},{key:"onNodeDrawStart",value:function(e){this.groupNestedLvl++,console.group(e.getGLName())}},{key:"onNodeSyncDeps",value:function(e,t,r){t.length&&console.log(e.getGLName()+" +deps "+t.map(function(e){return e.getGLName()}).join(", ")),r.length&&console.log(e.getGLName()+" -deps "+t.map(function(e){return e.getGLName()}).join(", "))}},{key:"onNodeDraw",value:function(e,t){var r=e.props,o=r.blendFunc,i=r.clear;this.groupNestedLvl++,console.group("DRAW "+e.getGLName());var s=e.getGLSize(),u=n(s,2),f=u[0],c=u[1];(0,a.default)("_size_ `"+f+"`x`"+c+"` _clear_ `"+JSON.stringify(i)+"` _blendFunc_ `"+JSON.stringify(o)+"`"),(0,a.default)("_"+t.length+" uniforms:_"),t.forEach(function(e){var t=e.key,r=e.type,n=e.value,o=e.getMetaInfo;r=String(r||"UNKNOWN");for(var i=void 0===n?"":Array.isArray(n)?"["+n.map(function(e){return"`"+String(e)+"`"}).join(",")+"]":"`"+String(n)+"`",s="",u=r.length+t.length-18;u<0;u++)s+=" ";a.default.apply(void 0,[s+"*"+("UNKNOWN"===r?"[c='color:red']UNKNOWN[c]":r)+"* _"+t+"_ = "+i].concat(function(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}(o?function e(t){return Array.isArray(t)?t.reduce(function(t,r){return t.concat(e(r))},[]):[String(t.dependency&&t.dependency.getGLName()||t.initialObj)].concat(t.textureOptions?[t.textureOptions]:[])}(o()):[])))})}},{key:"onNodeDrawEnd",value:function(){this.groupNestedLvl-=2,console.groupEnd(),console.groupEnd()}}]),t}();t.default=f},Ui4e:function(e,t,r){var n=r("93I4"),o=r("6/1s").onFreeze;r("zn7N")("freeze",function(e){return function(t){return e&&n(t)?e(o(t)):t}})},Um7X:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function e(t,r){(0,n.default)(t!==r,"gl-react: Found a loop in the rendering graph.\nIf you want to get back previous state, please use `backbuffering` instead");if(r instanceof o.default)for(var a=0;a<r.dependents.length;a++)e(t,r.dependents[a])};var n=a(r("QLaP")),o=a(r("JwSf"));function a(e){return e&&e.__esModule?e:{default:e}}},VYxY:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=r("HbIt"),i=(n=a)&&n.__esModule?n:{default:n};function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var u=function(e){function t(){var e,r,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return r=n=s(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),n.results=new Map,n.promises=new Map,n._disposed=!1,s(n,r)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default),o(t,[{key:"dispose",value:function(){var e=this,t=(this.gl,this.results),r=this.promises;t.forEach(function(t){e.disposeTexture(t.texture)}),t.clear(),r.clear(),this._disposed=!0}},{key:"disposeTexture",value:function(e){this.gl.deleteTexture(e)}},{key:"get",value:function(e){var t=this.inputHash(e),r=this.results.get(t);if(r)return r;var n=this.getNoCache(e);return this.results.set(t,n),n}},{key:"load",value:function(e){var t=this.inputHash(e),r=this.promises.get(t);if(r)return r;var n=Promise.resolve(this.get(e));return this.promises.set(t,n),n}}]),t}();t.default=u},W7oM:function(e,t,r){r("nZgG");var n=r("WEpk").Object;e.exports=function(e,t){return n.defineProperties(e,t)}},Xs3h:function(e,t){e.exports=["abs","acos","all","any","asin","atan","ceil","clamp","cos","cross","dFdx","dFdy","degrees","distance","dot","equal","exp","exp2","faceforward","floor","fract","gl_BackColor","gl_BackLightModelProduct","gl_BackLightProduct","gl_BackMaterial","gl_BackSecondaryColor","gl_ClipPlane","gl_ClipVertex","gl_Color","gl_DepthRange","gl_DepthRangeParameters","gl_EyePlaneQ","gl_EyePlaneR","gl_EyePlaneS","gl_EyePlaneT","gl_Fog","gl_FogCoord","gl_FogFragCoord","gl_FogParameters","gl_FragColor","gl_FragCoord","gl_FragData","gl_FragDepth","gl_FragDepthEXT","gl_FrontColor","gl_FrontFacing","gl_FrontLightModelProduct","gl_FrontLightProduct","gl_FrontMaterial","gl_FrontSecondaryColor","gl_LightModel","gl_LightModelParameters","gl_LightModelProducts","gl_LightProducts","gl_LightSource","gl_LightSourceParameters","gl_MaterialParameters","gl_MaxClipPlanes","gl_MaxCombinedTextureImageUnits","gl_MaxDrawBuffers","gl_MaxFragmentUniformComponents","gl_MaxLights","gl_MaxTextureCoords","gl_MaxTextureImageUnits","gl_MaxTextureUnits","gl_MaxVaryingFloats","gl_MaxVertexAttribs","gl_MaxVertexTextureImageUnits","gl_MaxVertexUniformComponents","gl_ModelViewMatrix","gl_ModelViewMatrixInverse","gl_ModelViewMatrixInverseTranspose","gl_ModelViewMatrixTranspose","gl_ModelViewProjectionMatrix","gl_ModelViewProjectionMatrixInverse","gl_ModelViewProjectionMatrixInverseTranspose","gl_ModelViewProjectionMatrixTranspose","gl_MultiTexCoord0","gl_MultiTexCoord1","gl_MultiTexCoord2","gl_MultiTexCoord3","gl_MultiTexCoord4","gl_MultiTexCoord5","gl_MultiTexCoord6","gl_MultiTexCoord7","gl_Normal","gl_NormalMatrix","gl_NormalScale","gl_ObjectPlaneQ","gl_ObjectPlaneR","gl_ObjectPlaneS","gl_ObjectPlaneT","gl_Point","gl_PointCoord","gl_PointParameters","gl_PointSize","gl_Position","gl_ProjectionMatrix","gl_ProjectionMatrixInverse","gl_ProjectionMatrixInverseTranspose","gl_ProjectionMatrixTranspose","gl_SecondaryColor","gl_TexCoord","gl_TextureEnvColor","gl_TextureMatrix","gl_TextureMatrixInverse","gl_TextureMatrixInverseTranspose","gl_TextureMatrixTranspose","gl_Vertex","greaterThan","greaterThanEqual","inversesqrt","length","lessThan","lessThanEqual","log","log2","matrixCompMult","max","min","mix","mod","normalize","not","notEqual","pow","radians","reflect","refract","sign","sin","smoothstep","sqrt","step","tan","texture2D","texture2DLod","texture2DProj","texture2DProjLod","textureCube","textureCubeLod","texture2DLodEXT","texture2DProjLodEXT","textureCubeLodEXT","texture2DGradEXT","texture2DProjGradEXT","textureCubeGradEXT"]},Ytbt:function(e,t,r){"use strict";var n=r("QM7d"),o={body:"",args:[],thisVars:[],localVars:[]};function a(e){if(!e)return o;for(var t=0;t<e.args.length;++t){var r=e.args[t];e.args[t]=0===t?{name:r,lvalue:!0,rvalue:!!e.rvalue,count:e.count||1}:{name:r,lvalue:!1,rvalue:!0,count:1}}return e.thisVars||(e.thisVars=[]),e.localVars||(e.localVars=[]),e}function i(e){for(var t=[],r=0;r<e.args.length;++r)t.push("a"+r);return new Function("P",["return function ",e.funcName,"_ndarrayops(",t.join(","),") {P(",t.join(","),");return a0}"].join(""))(function(e){return n({args:e.args,pre:a(e.pre),body:a(e.body),post:a(e.proc),funcName:e.funcName})}(e))}var s={add:"+",sub:"-",mul:"*",div:"/",mod:"%",band:"&",bor:"|",bxor:"^",lshift:"<<",rshift:">>",rrshift:">>>"};!function(){for(var e in s){var r=s[e];t[e]=i({args:["array","array","array"],body:{args:["a","b","c"],body:"a=b"+r+"c"},funcName:e}),t[e+"eq"]=i({args:["array","array"],body:{args:["a","b"],body:"a"+r+"=b"},rvalue:!0,funcName:e+"eq"}),t[e+"s"]=i({args:["array","array","scalar"],body:{args:["a","b","s"],body:"a=b"+r+"s"},funcName:e+"s"}),t[e+"seq"]=i({args:["array","scalar"],body:{args:["a","s"],body:"a"+r+"=s"},rvalue:!0,funcName:e+"seq"})}}();var u={not:"!",bnot:"~",neg:"-",recip:"1.0/"};!function(){for(var e in u){var r=u[e];t[e]=i({args:["array","array"],body:{args:["a","b"],body:"a="+r+"b"},funcName:e}),t[e+"eq"]=i({args:["array"],body:{args:["a"],body:"a="+r+"a"},rvalue:!0,count:2,funcName:e+"eq"})}}();var f={and:"&&",or:"||",eq:"===",neq:"!==",lt:"<",gt:">",leq:"<=",geq:">="};!function(){for(var e in f){var r=f[e];t[e]=i({args:["array","array","array"],body:{args:["a","b","c"],body:"a=b"+r+"c"},funcName:e}),t[e+"s"]=i({args:["array","array","scalar"],body:{args:["a","b","s"],body:"a=b"+r+"s"},funcName:e+"s"}),t[e+"eq"]=i({args:["array","array"],body:{args:["a","b"],body:"a=a"+r+"b"},rvalue:!0,count:2,funcName:e+"eq"}),t[e+"seq"]=i({args:["array","scalar"],body:{args:["a","s"],body:"a=a"+r+"s"},rvalue:!0,count:2,funcName:e+"seq"})}}();var c=["abs","acos","asin","atan","ceil","cos","exp","floor","log","round","sin","sqrt","tan"];!function(){for(var e=0;e<c.length;++e){var r=c[e];t[r]=i({args:["array","array"],pre:{args:[],body:"this_f=Math."+r,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(b)",thisVars:["this_f"]},funcName:r}),t[r+"eq"]=i({args:["array"],pre:{args:[],body:"this_f=Math."+r,thisVars:["this_f"]},body:{args:["a"],body:"a=this_f(a)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:r+"eq"})}}();var l=["max","min","atan2","pow"];!function(){for(var e=0;e<l.length;++e){var r=l[e];t[r]=i({args:["array","array","array"],pre:{args:[],body:"this_f=Math."+r,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(b,c)",thisVars:["this_f"]},funcName:r}),t[r+"s"]=i({args:["array","array","scalar"],pre:{args:[],body:"this_f=Math."+r,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(b,c)",thisVars:["this_f"]},funcName:r+"s"}),t[r+"eq"]=i({args:["array","array"],pre:{args:[],body:"this_f=Math."+r,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(a,b)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:r+"eq"}),t[r+"seq"]=i({args:["array","scalar"],pre:{args:[],body:"this_f=Math."+r,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(a,b)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:r+"seq"})}}();var h=["atan2","pow"];!function(){for(var e=0;e<h.length;++e){var r=h[e];t[r+"op"]=i({args:["array","array","array"],pre:{args:[],body:"this_f=Math."+r,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(c,b)",thisVars:["this_f"]},funcName:r+"op"}),t[r+"ops"]=i({args:["array","array","scalar"],pre:{args:[],body:"this_f=Math."+r,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(c,b)",thisVars:["this_f"]},funcName:r+"ops"}),t[r+"opeq"]=i({args:["array","array"],pre:{args:[],body:"this_f=Math."+r,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(b,a)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:r+"opeq"}),t[r+"opseq"]=i({args:["array","scalar"],pre:{args:[],body:"this_f=Math."+r,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(b,a)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:r+"opseq"})}}(),t.any=n({args:["array"],pre:o,body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:1}],body:"if(a){return true}",localVars:[],thisVars:[]},post:{args:[],localVars:[],thisVars:[],body:"return false"},funcName:"any"}),t.all=n({args:["array"],pre:o,body:{args:[{name:"x",lvalue:!1,rvalue:!0,count:1}],body:"if(!x){return false}",localVars:[],thisVars:[]},post:{args:[],localVars:[],thisVars:[],body:"return true"},funcName:"all"}),t.sum=n({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:1}],body:"this_s+=a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"sum"}),t.prod=n({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=1"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:1}],body:"this_s*=a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"prod"}),t.norm2squared=n({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:2}],body:"this_s+=a*a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"norm2squared"}),t.norm2=n({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:2}],body:"this_s+=a*a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return Math.sqrt(this_s)"},funcName:"norm2"}),t.norminf=n({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:4}],body:"if(-a>this_s){this_s=-a}else if(a>this_s){this_s=a}",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"norminf"}),t.norm1=n({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:3}],body:"this_s+=a<0?-a:a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"norm1"}),t.sup=n({args:["array"],pre:{body:"this_h=-Infinity",args:[],thisVars:["this_h"],localVars:[]},body:{body:"if(_inline_1_arg0_>this_h)this_h=_inline_1_arg0_",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_h"],localVars:[]},post:{body:"return this_h",args:[],thisVars:["this_h"],localVars:[]}}),t.inf=n({args:["array"],pre:{body:"this_h=Infinity",args:[],thisVars:["this_h"],localVars:[]},body:{body:"if(_inline_1_arg0_<this_h)this_h=_inline_1_arg0_",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_h"],localVars:[]},post:{body:"return this_h",args:[],thisVars:["this_h"],localVars:[]}}),t.argmin=n({args:["index","array","shape"],pre:{body:"{this_v=Infinity;this_i=_inline_0_arg2_.slice(0)}",args:[{name:"_inline_0_arg0_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg1_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg2_",lvalue:!1,rvalue:!0,count:1}],thisVars:["this_i","this_v"],localVars:[]},body:{body:"{if(_inline_1_arg1_<this_v){this_v=_inline_1_arg1_;for(var _inline_1_k=0;_inline_1_k<_inline_1_arg0_.length;++_inline_1_k){this_i[_inline_1_k]=_inline_1_arg0_[_inline_1_k]}}}",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2},{name:"_inline_1_arg1_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_i","this_v"],localVars:["_inline_1_k"]},post:{body:"{return this_i}",args:[],thisVars:["this_i"],localVars:[]}}),t.argmax=n({args:["index","array","shape"],pre:{body:"{this_v=-Infinity;this_i=_inline_0_arg2_.slice(0)}",args:[{name:"_inline_0_arg0_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg1_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg2_",lvalue:!1,rvalue:!0,count:1}],thisVars:["this_i","this_v"],localVars:[]},body:{body:"{if(_inline_1_arg1_>this_v){this_v=_inline_1_arg1_;for(var _inline_1_k=0;_inline_1_k<_inline_1_arg0_.length;++_inline_1_k){this_i[_inline_1_k]=_inline_1_arg0_[_inline_1_k]}}}",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2},{name:"_inline_1_arg1_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_i","this_v"],localVars:["_inline_1_k"]},post:{body:"{return this_i}",args:[],thisVars:["this_i"],localVars:[]}}),t.random=i({args:["array"],pre:{args:[],body:"this_f=Math.random",thisVars:["this_f"]},body:{args:["a"],body:"a=this_f()",thisVars:["this_f"]},funcName:"random"}),t.assign=i({args:["array","array"],body:{args:["a","b"],body:"a=b"},funcName:"assign"}),t.assigns=i({args:["array","scalar"],body:{args:["a","b"],body:"a=b"},funcName:"assigns"}),t.equals=n({args:["array","array"],pre:o,body:{args:[{name:"x",lvalue:!1,rvalue:!0,count:1},{name:"y",lvalue:!1,rvalue:!0,count:1}],body:"if(x!==y){return false}",localVars:[],thisVars:[]},post:{args:[],localVars:[],thisVars:[],body:"return true"},funcName:"equals"})},ZkmD:function(e,t,r){var n=r("szI9");e.exports=function(){var e={};return function(t){if(("object"!=typeof t||null===t)&&"function"!=typeof t)throw new Error("Weakmap-shim: Key must be object");var r=t.valueOf(e);return r&&r.identity===e?r:n(t,e)}}},aiXG:function(e,t){e.exports=["<<=",">>=","++","--","<<",">>","<=",">=","==","!=","&&","||","+=","-=","*=","/=","%=","&=","^^","^=","|=","(",")","[","]",".","!","~","*","/","%","+","-","<",">","&","^","|","?",":","=",",",";","{","}"]},bPVu:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=r("TGEO");var a=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.WebGLTextureLoaderAsyncHashCache),n(t,[{key:"canLoad",value:function(e){return"string"==typeof e}},{key:"inputHash",value:function(e){return e}},{key:"loadNoCache",value:function(e){var t=this.gl,r=void 0;return{promise:new Promise(function(t,n){return r=function(e,t,r){var n=new window.Image;return"data:"!==e.slice(0,5)&&(n.crossOrigin=!0),n.onload=function(){n&&t(n),n=null},n.onabort=n.onerror=r,n.src=e,function(){n&&(n.onload=null,n.onerror=null,n.onabort=null,n.src="",n=null)}}(e,t,n)}).then(function(e){var r=e.width,n=e.height,o=t.createTexture();return t.bindTexture(t.TEXTURE_2D,o),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,e),{texture:o,width:r,height:n}}),dispose:function(){return r()}}}}]),t}();o.globalRegistry.add(a),t.default=a},bQgK:function(e,t,r){(function(t){(function(){var r,n,o,a,i,s;"undefined"!=typeof performance&&null!==performance&&performance.now?e.exports=function(){return performance.now()}:null!=t&&t.hrtime?(e.exports=function(){return(r()-i)/1e6},n=t.hrtime,a=(r=function(){var e;return 1e9*(e=n())[0]+e[1]})(),s=1e9*t.uptime(),i=a-s):Date.now?(e.exports=function(){return Date.now()-o},o=Date.now()):(e.exports=function(){return(new Date).getTime()-o},o=(new Date).getTime())}).call(this)}).call(this,r("8oxB"))},cDsr:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=r("HbIt"),i=(n=a)&&n.__esModule?n:{default:n};function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var u=new Promise(function(){}),f=function(e){function t(){var e,r,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return r=n=s(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),n.disposes=new Map,n.inputs=new Map,n.promises=new Map,n.results=new Map,n._disposed=!1,s(n,r)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default),o(t,[{key:"dispose",value:function(){var e=this,t=(this.gl,this.promises),r=this.results,n=this.inputs,o=this.disposes;o.forEach(function(e){return e()}),r.forEach(function(t){e.disposeTexture(t.texture)}),t.clear(),r.clear(),n.clear(),o.clear(),this._disposed=!0}},{key:"disposeTexture",value:function(e){this.gl.deleteTexture(e)}},{key:"load",value:function(e){var t=this,r=this.inputHash(e),n=this.promises.get(r);if(n)return n;var o=this.loadNoCache(e);this.disposes.set(r,o.dispose);var a=o.promise.then(function(e){return t.promises.has(r)?(t.disposes.delete(r),t.results.set(r,e),e):u});return this.promises.set(r,a),a}},{key:"get",value:function(e){return this.results.get(this.inputHash(e))}},{key:"cancelLoad",value:function(e){var t=this.inputHash(e);this.promises.delete(t);var r=this.disposes.get(t);r&&(r(),this.disposes.delete(t))}}]),t}();t.default=f},dEu3:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){for(var t="",r=0;r<e.length;r++)t+=(0===r?"":arguments.length<=r-1+1?void 0:arguments[r-1+1])+e[r];return t};t.GLSLSymbol="GLSL"},dGjt:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.list=void 0;var n=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(n=(i=s.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(u){o=!0,a=u}finally{try{!n&&s.return&&s.return()}finally{if(o)throw a}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=d(r("QLaP")),s=r("q1tI"),u=d(s),f=d(r("17x9")),c=d(r("KN1S")),l=(d(r("dLFq")),d(r("laZL"))),h=d(r("38ab")),p=r("TGEO");function d(e){return e&&e.__esModule?e:{default:e}}function g(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var _=function(e,t){return t?"#define SHADER_NAME "+t+"\n"+e:e},v={children:f.default.any.isRequired,style:f.default.any,preload:f.default.array,onLoad:f.default.func,onLoadError:f.default.func,onContextLost:f.default.func,onContextRestored:f.default.func,visitor:f.default.object},y=0,m=[],b=(t.list=function(){return m.slice(0)},Object.keys(v));t.default=function(e){var t,r,d=e.GLView,E=e.RenderLessElement,w=e.mapRenderableContent,T=e.requestFrame,A=e.cancelFrame;return r=t=function(e){function t(){var e,r,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return r=n=g(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),n.id=++y,n.shaders={},n._preparingGL=[],n._needsRedraw=!1,n.state={ready:!1,rebootId:0,debug:!1},n.RenderLessElement=E,n.mapRenderableContent=w,n.redraw=function(){n._needsRedraw=!0},n.flush=function(){n._draw()},n._onContextCreate=function(e){n._prepareGL(e,function(){n.setState({ready:!0},function(){try{n._handleLoad()}catch(e){n._handleError(e)}})},n._handleError)},n._onContextFailure=function(e){n._handleError(e)},n._onContextLost=function(){n.props.onContextLost&&n.props.onContextLost(),n._stopLoop(),n._destroyGL(),n.root&&n.root._onContextLost()},n._onContextRestored=function(e){n.root&&n.root._onContextRestored(e),n._prepareGL(e,n._handleRestoredSuccess,n._handleRestoredFailure)},n._onRef=function(e){n.glView=e},n._handleError=function(e){var t=n.props.onLoadError;t?t(e):console.error(e)},n._handleRestoredFailure=function(){},n._handleRestoredSuccess=function(){n.redraw(),n.flush(),n._startLoop(),n.props.onContextRestored&&n.props.onContextRestored()},n._handleLoad=function(){n.root||console.warn(n.getGLName()+" children does not contain any discoverable Node");var e=n.props.onLoad;n.redraw(),n.flush(),n._startLoop(),e&&e()},g(n,r)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.Component),a(t,[{key:"getChildContext",value:function(){return{glParent:this,glSurface:this,glSizable:this}}},{key:"componentDidMount",value:function(){var e=this;m.push(this),this.getVisitors().forEach(function(t){return t.onSurfaceMount(e)})}},{key:"componentWillUnmount",value:function(){var e=this;this._stopLoop(),this._destroyGL();var t=m.indexOf(this);-1!==t&&m.splice(t,1),this.getVisitors().forEach(function(t){return t.onSurfaceUnmount(e)})}},{key:"componentDidUpdate",value:function(){this.redraw()}},{key:"render",value:function(){var e=this.props,t=this.state,r=t.ready,n=t.rebootId,a=t.debug,i=e.children,s=e.style,f={};return Object.keys(e).forEach(function(t){-1===b.indexOf(t)&&(f[t]=e[t])}),u.default.createElement(d,o({key:n,debug:a,ref:this._onRef,onContextCreate:this._onContextCreate,onContextFailure:this._onContextFailure,onContextLost:this._onContextLost,onContextRestored:this._onContextRestored,style:s},f),r?i:null)}},{key:"rebootForDebug",value:function(){this._stopLoop(),this._destroyGL(),this.setState(function(e){return{rebootId:e.rebootId+1,ready:!1,debug:!0}})}},{key:"getVisitors",value:function(){return h.default.get().concat(this.props.visitor||[])}},{key:"getGLSize",value:function(){var e=this.gl;return[e?e.drawingBufferWidth:0,e?e.drawingBufferHeight:0]}},{key:"getGLName",value:function(){return"Surface#"+this.id}},{key:"getGLShortName",value:function(){return"Surface"}},{key:"captureAsDataURL",value:function(){var e=this.glView;return(0,i.default)(e,"GLView is mounted"),(0,i.default)(e.captureAsDataURL,"captureAsDataURL is not defined in %s",d.displayName||d.name),e.captureAsDataURL.apply(e,arguments)}},{key:"captureAsBlob",value:function(){var e=this.glView;return(0,i.default)(e,"GLView is mounted"),(0,i.default)(e.captureAsBlob,"captureAsBlob is not defined in %s",d.displayName||d.name),e.captureAsBlob.apply(e,arguments)}},{key:"capture",value:function(e,t,r,n){return(0,i.default)(this.root,"Surface#capture: surface is not yet ready or don't have any root Node"),this.root.capture(e,t,r,n)}},{key:"glIsAvailable",value:function(){return!!this.gl}},{key:"getEmptyTexture",value:function(){var e=this.gl,t=this._emptyTexture;return(0,i.default)(e,"getEmptyTexture called while gl was not defined"),t||(this._emptyTexture=t=e.createTexture(),e.bindTexture(e.TEXTURE_2D,t),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,2,2,0,e.RGBA,e.UNSIGNED_BYTE,new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]))),t}},{key:"_destroyGL",value:function(){var e=this,t=this.gl;if(t){for(var r in this.gl=null,this._emptyTexture&&(t.deleteTexture(this._emptyTexture),this._emptyTexture=null),this.loaderResolver&&this.loaderResolver.dispose(),this.shaders)this.shaders[r].dispose();this.shaders={},t.deleteBuffer(this.buffer),this.getVisitors().map(function(t){return t.onSurfaceGLContextChange(e,null)})}}},{key:"_prepareGL",value:function(e,t,r){var n=this;this.gl=e,this.getVisitors().map(function(t){return t.onSurfaceGLContextChange(n,e)}),this.loaderResolver=new p.LoaderResolver(e),e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,1);var o=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,o),e.bufferData(e.ARRAY_BUFFER,new Float32Array([-1,-1,-1,4,4,-1]),e.STATIC_DRAW),this.buffer=o;var a=this.props.preload,i=[];(a||[]).forEach(function(e){if(e){var t=n._resolveTextureLoader(e),r=t.loader,o=t.input;if(r)r.get(o)||i.push(r.load(o));else console.warn("Can't preload input",e,o)}else console.warn("Can't preload value",e)}),this._preparingGL=i,i.length>0?Promise.all(i).then(t,r):t()}},{key:"_addGLNodeChild",value:function(e){(0,i.default)(!this.root,"Surface can only contains a single root. Got: %s",this.root&&this.root.getGLName()),this.root=e,e._addDependent(this),this.redraw()}},{key:"_removeGLNodeChild",value:function(e){this.root=null,this.redraw()}},{key:"_resolveTextureLoader",value:function(e){var t=e;return{loader:this.loaderResolver&&this.loaderResolver.resolve(t),input:t}}},{key:"_makeShader",value:function(e,t){var r=e.frag,n=e.vert,o=this.gl;(0,i.default)(o,"gl is not available");var a=(0,c.default)(o,_(n,t),_(r,t));return a.attributes._p.pointer(),a}},{key:"_getShader",value:function(e){var t=this.shaders;return t[e.id]||(t[e.id]=this._makeShader(l.default.get(e),l.default.getName(e)))}},{key:"_bindRootNode",value:function(){var e=this.gl;(0,i.default)(e,"gl context not available"),e.bindFramebuffer(e.FRAMEBUFFER,null);var t=this.getGLSize(),r=n(t,2),o=r[0],a=r[1];e.viewport(0,0,o,a)}},{key:"_startLoop",value:function(){var e=this;A(this._loopRaf);this._loopRaf=T(function t(){e._loopRaf=T(t),e._needsRedraw&&e._draw()})}},{key:"_stopLoop",value:function(){A(this._loopRaf)}},{key:"_draw",value:function(){var e=this,t=this.gl,r=this.root,n=this.glView;(0,i.default)(n,"GLView is mounted");var o=this.getVisitors();if(t&&r&&this._needsRedraw){this._needsRedraw=!1,o.forEach(function(t){return t.onSurfaceDrawStart(e)}),n.beforeDraw&&n.beforeDraw(t);try{r._draw()}catch(s){var a=!1;if(o.forEach(function(e){a=e.onSurfaceDrawError(s)||a}),!a)throw console.warn(s),s;return}n.afterDraw&&n.afterDraw(t),o.forEach(function(t){return t.onSurfaceDrawEnd(e)})}else o.forEach(function(t){return t.onSurfaceDrawSkipped(e)})}}]),t}(),t.propTypes=v,t.childContextTypes={glSurface:f.default.object.isRequired,glParent:f.default.object.isRequired,glSizable:f.default.object.isRequired},r}},dLFq:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=l(r("QLaP")),a=r("q1tI"),i=l(a),s=l(r("17x9")),u=l(r("JwSf")),f=l(r("Um7X")),c=l(r("5lXm"));function l(e){return e&&e.__esModule?e:{default:e}}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var p=function(e){function t(){var e,r,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return r=n=h(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),n.id=(0,c.default)(),n.dependents=[],n.glNode=null,n.onRef=function(e){n.glBusRootNode=e},n.redraw=function(){n.dependents.forEach(function(e){return e.redraw()})},n._draw=function(){},h(n,r)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),n(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.uniform,r=e.index;if(t){var n=this.context.glParent;(0,o.default)(n instanceof u.default,'a <Bus uniform=".." /> needs to be inside a Node'),n._addUniformBus(this,t,r)}this.redraw()}},{key:"componentWillUnmount",value:function(){var e=this.props,t=e.uniform,r=e.index;if(t){var n=this.context.glParent;(0,o.default)(n instanceof u.default,'a <Bus uniform=".." /> needs to be inside a Node'),n._removeUniformBus(this,t,r)}}},{key:"componentDidUpdate",value:function(e){var t=e.uniform,r=e.index,n=this.props,a=n.uniform,i=n.index;if(a&&(a!==t||i!==r)){var s=this.context.glParent;(0,o.default)(s instanceof u.default,'a <Bus uniform=".." /> needs to be inside a Node'),t&&s._removeUniformBus(this,t,r),s._addUniformBus(this,a,i)}this.redraw()}},{key:"getChildContext",value:function(){return{glParent:this}}},{key:"_addGLNodeChild",value:function(e){this.glNode=e,this.context.glParent.redraw()}},{key:"_removeGLNodeChild",value:function(e){this.glNode=null}},{key:"_addDependent",value:function(e){-1===this.dependents.indexOf(e)&&((0,f.default)(this,e),this.dependents.push(e))}},{key:"_removeDependent",value:function(e){var t=this.dependents.indexOf(e);-1!==t&&this.dependents.splice(t,1)}},{key:"getGLRenderableNode",value:function(){return this.glNode}},{key:"getGLRenderableContent",value:function(){var e=this.context.glSurface.mapRenderableContent,t=this.glBusRootNode;return t&&e?e(t):null}},{key:"getGLName",value:function(){return"Bus("+(this.glNode?this.glNode.getGLName():String(this.getGLRenderableContent()))+")"}},{key:"getGLShortName",value:function(){var e=this.getGLRenderableContent(),t=String(e&&e.constructor&&e.constructor.name||e);return"Bus("+(this.glNode?this.glNode.getGLShortName():t)+")"}},{key:"capture",value:function(e,t,r,n){return(0,o.default)(this.glNode,"Bus does not contain any Node"),this.glNode.capture(e,t,r,n)}},{key:"_onContextLost",value:function(){var e=this.glNode;e&&e._onContextLost()}},{key:"_onContextRestored",value:function(e){var t=this.glNode;t&&t._onContextRestored(e)}},{key:"render",value:function(){var e=this.props.children,t=this.context.glSurface,r=t.RenderLessElement,n=t.mapRenderableContent;return i.default.createElement(r,{ref:n?this.onRef:void 0},"function"==typeof e?e(this.redraw):e)}}]),t}();p.defaultProps={index:0},p.contextTypes={glParent:s.default.object.isRequired,glSurface:s.default.object.isRequired},p.childContextTypes={glParent:s.default.object.isRequired},t.default=p},dpPk:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=d(["\nattribute vec2 _p;\nvarying vec2 uv;\nuniform float tR;\nuniform vec2 res;\nfloat r;\nvoid main() {\n  r = res.x / res.y;\n  gl_Position = vec4(_p,0.0,1.0);\n  uv = .5+.5*_p*vec2(max(r/tR,1.),max(tR/r,1.));\n}\n    "],["\nattribute vec2 _p;\nvarying vec2 uv;\nuniform float tR;\nuniform vec2 res;\nfloat r;\nvoid main() {\n  r = res.x / res.y;\n  gl_Position = vec4(_p,0.0,1.0);\n  uv = .5+.5*_p*vec2(max(r/tR,1.),max(tR/r,1.));\n}\n    "]),s=d(["\nprecision highp float;\nvarying vec2 uv;\nuniform sampler2D t;\nvoid main () {\n  gl_FragColor =\n    step(0.0, uv.x) *\n    step(0.0, uv.y) *\n    step(uv.x, 1.0) *\n    step(uv.y, 1.0) *\n    texture2D(t, uv);\n}\n    "],["\nprecision highp float;\nvarying vec2 uv;\nuniform sampler2D t;\nvoid main () {\n  gl_FragColor =\n    step(0.0, uv.x) *\n    step(0.0, uv.y) *\n    step(uv.x, 1.0) *\n    step(uv.y, 1.0) *\n    texture2D(t, uv);\n}\n    "]),u=d(["\nattribute vec2 _p;\nvarying vec2 uv;\nuniform float zoom;\nuniform vec2 center;\nuniform float tR;\nuniform vec2 res;\nfloat r;\nvec2 invert (vec2 p) {\n  return vec2(p.x, 1.0-p.y);\n}\nvoid main() {\n  r = res.x / res.y;\n  gl_Position = vec4(_p,0.0,1.0);\n  // crop with zoom & center in a cover mode. preserving image ratio\n  float maxR = max(r, tR);\n  vec2 zoomedCanvasSize = vec2(\n    (r / maxR) * zoom,\n    (tR / maxR) * zoom\n  );\n  vec4 crop = vec4(\n    center.x - zoomedCanvasSize.x / 2.,\n    center.y - zoomedCanvasSize.y / 2.,\n    zoomedCanvasSize.x,\n    zoomedCanvasSize.y\n  );\n  // apply the crop rectangle\n  uv = invert(invert(.5+.5*_p) * crop.zw + crop.xy);\n}\n    "],["\nattribute vec2 _p;\nvarying vec2 uv;\nuniform float zoom;\nuniform vec2 center;\nuniform float tR;\nuniform vec2 res;\nfloat r;\nvec2 invert (vec2 p) {\n  return vec2(p.x, 1.0-p.y);\n}\nvoid main() {\n  r = res.x / res.y;\n  gl_Position = vec4(_p,0.0,1.0);\n  // crop with zoom & center in a cover mode. preserving image ratio\n  float maxR = max(r, tR);\n  vec2 zoomedCanvasSize = vec2(\n    (r / maxR) * zoom,\n    (tR / maxR) * zoom\n  );\n  vec4 crop = vec4(\n    center.x - zoomedCanvasSize.x / 2.,\n    center.y - zoomedCanvasSize.y / 2.,\n    zoomedCanvasSize.x,\n    zoomedCanvasSize.y\n  );\n  // apply the crop rectangle\n  uv = invert(invert(.5+.5*_p) * crop.zw + crop.xy);\n}\n    "]),f=d(["\nattribute vec2 _p;\nvarying vec2 uv;\nuniform float zoom;\nuniform vec2 center;\nuniform float tR;\nuniform vec2 res;\nfloat r;\n\nvec2 invert (vec2 p) {\n  return vec2(p.x, 1.0-p.y);\n}\nvoid main() {\n  r = res.x / res.y;\n  gl_Position = vec4(_p,0.0,1.0);\n  // crop with zoom & center in a cover mode. preserving image ratio\n  float maxR = max(r, tR);\n  vec2 zoomedCanvasSize = vec2(\n    (r / maxR) * zoom,\n    (tR / maxR) * zoom\n  );\n  vec4 crop = vec4(\n    center.x - zoomedCanvasSize.x / 2.,\n    center.y - zoomedCanvasSize.y / 2.,\n    zoomedCanvasSize.x,\n    zoomedCanvasSize.y\n  );\n  // clamp to not escape the edges\n  float w = crop[2], h = crop[3];\n  float ratio = w / h;\n  if (w > 1.) {\n    w = 1.;\n    h = w / ratio;\n  }\n  if (h > 1.) {\n    h = 1.;\n    w = h * ratio;\n  }\n  crop = vec4(\n    max(0., min(crop.x, 1.-w)),\n    max(0., min(crop.y, 1.-h)),\n    w,\n    h\n  );\n  // apply the crop rectangle\n  uv = invert(invert(.5+.5*_p) * crop.zw + crop.xy);\n}\n    "],["\nattribute vec2 _p;\nvarying vec2 uv;\nuniform float zoom;\nuniform vec2 center;\nuniform float tR;\nuniform vec2 res;\nfloat r;\n\nvec2 invert (vec2 p) {\n  return vec2(p.x, 1.0-p.y);\n}\nvoid main() {\n  r = res.x / res.y;\n  gl_Position = vec4(_p,0.0,1.0);\n  // crop with zoom & center in a cover mode. preserving image ratio\n  float maxR = max(r, tR);\n  vec2 zoomedCanvasSize = vec2(\n    (r / maxR) * zoom,\n    (tR / maxR) * zoom\n  );\n  vec4 crop = vec4(\n    center.x - zoomedCanvasSize.x / 2.,\n    center.y - zoomedCanvasSize.y / 2.,\n    zoomedCanvasSize.x,\n    zoomedCanvasSize.y\n  );\n  // clamp to not escape the edges\n  float w = crop[2], h = crop[3];\n  float ratio = w / h;\n  if (w > 1.) {\n    w = 1.;\n    h = w / ratio;\n  }\n  if (h > 1.) {\n    h = 1.;\n    w = h * ratio;\n  }\n  crop = vec4(\n    max(0., min(crop.x, 1.-w)),\n    max(0., min(crop.y, 1.-h)),\n    w,\n    h\n  );\n  // apply the crop rectangle\n  uv = invert(invert(.5+.5*_p) * crop.zw + crop.xy);\n}\n    "]),c=d(["\nprecision highp float;\nvarying vec2 uv;\nuniform sampler2D t;\nvoid main () {\n  gl_FragColor = texture2D(t, uv);\n}\n    "],["\nprecision highp float;\nvarying vec2 uv;\nuniform sampler2D t;\nvoid main () {\n  gl_FragColor = texture2D(t, uv);\n}\n    "]),l=r("rr/c"),h=r("q1tI"),p=(n=h)&&n.__esModule?n:{default:n};function d(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var g=l.Shaders.create({contain:{vert:(0,l.GLSL)(i),frag:(0,l.GLSL)(s)},free:{vert:(0,l.GLSL)(u),frag:(0,l.GLSL)(s)},cover:{vert:(0,l.GLSL)(f),frag:(0,l.GLSL)(c)}}),_=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,h.Component),a(t,[{key:"render",value:function(){var e=this.props,t=e.source,r=e.resizeMode,n=function(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}(e,["source","resizeMode"]);if("cover"===r||"free"===r){var a=e.center||[.5,.5],i=e.zoom||1;return delete n.center,delete n.zoom,p.default.createElement(l.Node,o({},n,{shader:"cover"===r?g.cover:g.free,uniforms:{t:t,tR:l.Uniform.textureSizeRatio(t),res:l.Uniform.Resolution,center:a,zoom:i}}))}return"contain"===r?p.default.createElement(l.Node,o({},n,{shader:g.contain,uniforms:{t:t,tR:l.Uniform.textureSizeRatio(t),res:l.Uniform.Resolution}})):p.default.createElement(l.LinearCopy,n,t)}}]),t}();_.defaultProps={resizeMode:"cover"},t.default=_},dv69:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o,a,i,s,u,f,c,l,h,p,d,g,_="undefined"!=typeof navigator?navigator:{userAgent:"",vendor:""},v=_.userAgent,y=_.vendor;l=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.forEach(function(e){return"string"==typeof e?t=t.concat(d(e)):t.push(e)}),g.apply(window,t)},g=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return Function.prototype.apply.call(console.log,console,t)},a=[{regex:/\*([^\*]+)\*/,replacer:function(e,t){return"%c"+t+"%c"},styles:function(){return["font-style: italic",""]}},{regex:/_([^_]+)_/,replacer:function(e,t){return"%c"+t+"%c"},styles:function(){return["font-weight: bold",""]}},{regex:/`([^`]+)`/,replacer:function(e,t){return"%c"+t+"%c"},styles:function(){return["background: rgb(255, 255, 219); padding: 1px 5px; border: 1px solid rgba(0, 0, 0, 0.1)",""]}},{regex:/\[c=(?:"|')?((?:(?!(?:"|')\]).)*)(?:"|')?\]((?:(?!\[c\]).)*)\[c\]/,replacer:function(e,t,r){return"%c"+r+"%c"},styles:function(e){return[e[1],""]}}],s=function(e){var t;return t=!1,a.forEach(function(r){if(r.regex.test(e))return t=!0}),t},i=function(e){var t;return t=[],a.forEach(function(r){var n;if(n=e.match(r.regex))return t.push({format:r,match:n})}),t.sort(function(e,t){return e.match.index-t.match.index})},d=function(e){var t,r;for(r=[];s(e);)t=i(e)[0],e=e.replace(t.format.regex,t.format.replacer),r=r.concat(t.format.styles(t.match));return[e].concat(r)},c=function(){return/Safari/.test(v)&&/Apple Computer/.test(y)},f=function(){return/OPR/.test(v)&&/Opera/.test(y)},u=function(){return/Firefox/.test(v)},p=function(){var e;return!!(e=v.match(/AppleWebKit\/(\d+)\.(\d+)(\.|\+|\s)/))&&537.38<=parseInt(e[1],10)+parseInt(e[2],10)/100},h=function(){var e;return!!(e=v.match(/OPR\/(\d+)\./))&&15<=parseInt(e[1],10)},o=function(){return"undefined"!=typeof window&&(window.console.firebug||window.console.exception)},(n=function(){return/MSIE/.test(v)}()||u()&&!o()||f()&&!h()||c()&&!p()?g:l).l=g,t.default=n},e0Q9:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Surface=void 0;var n=r("rr/c"),o=i(r("xEkU")),a=i(r("v25H"));function i(e){return e&&e.__esModule?e:{default:e}}r("h/uW");t.Surface=(0,n.createSurface)({GLView:a.default,RenderLessElement:"span",mapRenderableContent:function(e){return e instanceof Element?e.firstElementChild:null},requestFrame:o.default,cancelFrame:o.default.cancel})},fW1p:function(e,t,r){var n=r("Y7ZC"),o=r("E8gZ")(!1);n(n.S,"Object",{values:function(e){return o(e)}})},fpEm:function(e,t,r){"use strict";e.exports=function(e,t,r,o){for(var a={},u=0,f=r.length;u<f;++u){var c=r[u],l=c.name,h=c.type,p=c.locations;switch(h){case"bool":case"int":case"float":i(e,t,p[0],o,1,a,l);break;default:if(h.indexOf("vec")>=0){var d=h.charCodeAt(h.length-1)-48;if(d<2||d>4)throw new n("","Invalid data type for attribute "+l+": "+h);i(e,t,p[0],o,d,a,l)}else{if(!(h.indexOf("mat")>=0))throw new n("","Unknown data type for attribute "+l+": "+h);var d=h.charCodeAt(h.length-1)-48;if(d<2||d>4)throw new n("","Invalid data type for attribute "+l+": "+h);s(e,t,p,o,d,a,l)}}}return a};var n=r("o/2B");function o(e,t,r,n,o,a){this._gl=e,this._wrapper=t,this._index=r,this._locations=n,this._dimension=o,this._constFunc=a}var a=o.prototype;function i(e,t,r,n,a,i,s){for(var u=["gl","v"],f=[],c=0;c<a;++c)u.push("x"+c),f.push("x"+c);u.push("if(x0.length===void 0){return gl.vertexAttrib"+a+"f(v,"+f.join()+")}else{return gl.vertexAttrib"+a+"fv(v,x0)}");var l=Function.apply(null,u),h=new o(e,t,r,n,a,l);Object.defineProperty(i,s,{set:function(t){return e.disableVertexAttribArray(n[r]),l(e,n[r],t),t},get:function(){return h},enumerable:!0})}function s(e,t,r,n,o,a,s){for(var u=new Array(o),f=new Array(o),c=0;c<o;++c)i(e,t,r[c],n,o,u,c),f[c]=u[c];Object.defineProperty(u,"location",{set:function(e){if(Array.isArray(e))for(var t=0;t<o;++t)f[t].location=e[t];else for(t=0;t<o;++t)f[t].location=e+t;return e},get:function(){for(var e=new Array(o),t=0;t<o;++t)e[t]=n[r[t]];return e},enumerable:!0}),u.pointer=function(t,a,i,s){t=t||e.FLOAT,a=!!a,i=i||o*o,s=s||0;for(var u=0;u<o;++u){var f=n[r[u]];e.vertexAttribPointer(f,o,t,a,i,s+u*o),e.enableVertexAttribArray(f)}};var l=new Array(o),h=e["vertexAttrib"+o+"fv"];Object.defineProperty(a,s,{set:function(t){for(var a=0;a<o;++a){var i=n[r[a]];if(e.disableVertexAttribArray(i),Array.isArray(t[0]))h.call(e,i,t[a]);else{for(var s=0;s<o;++s)l[s]=t[o*a+s];h.call(e,i,l)}}return t},get:function(){return u},enumerable:!0})}a.pointer=function(e,t,r,n){var o=this._gl,a=this._locations[this._index];o.vertexAttribPointer(a,this._dimension,e||o.FLOAT,!!t,r||0,n||0),o.enableVertexAttribArray(a)},a.set=function(e,t,r,n){return this._constFunc(this._locations[this._index],e,t,r,n)},Object.defineProperty(a,"location",{get:function(){return this._locations[this._index]},set:function(e){return e!==this._locations[this._index]&&(this._locations[this._index]=0|e,this._wrapper.program=null),0|e}})},"h/uW":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ImageURLTextureLoader=t.VideoTextureLoader=t.CanvasTextureLoader=void 0;var n=i(r("l8j9")),o=i(r("EEdt")),a=i(r("bPVu"));function i(e){return e&&e.__esModule?e:{default:e}}t.CanvasTextureLoader=n.default,t.VideoTextureLoader=o.default,t.ImageURLTextureLoader=a.default},hK8l:function(e,t,r){"use strict";e.exports=function(e,t){switch(void 0===t&&(t=0),typeof e){case"number":if(e>0)return function(e,t){var r,n;for(r=new Array(e),n=0;n<e;++n)r[n]=t;return r}(0|e,t);break;case"object":if("number"==typeof e.length)return function e(t,r,n){var o=0|t[n];if(o<=0)return[];var a,i=new Array(o);if(n===t.length-1)for(a=0;a<o;++a)i[a]=r;else for(a=0;a<o;++a)i[a]=e(t,r,n+1);return i}(e,t,0)}return[]}},hYYf:function(e,t,r){e.exports=function(e){var t,r,T,A=0,R=0,x=u,S=[],O=[],L=1,N=0,P=0,C=!1,I=!1,j="",k=a,M=n;"300 es"===(e=e||{}).version&&(k=s,M=i);for(var U={},D={},A=0;A<k.length;A++)U[k[A]]=!0;for(var A=0;A<M.length;A++)D[M[A]]=!0;return function(e){return O=[],null!==e?function(e){A=0,e.toString&&(e=e.toString());var r;j+=e.replace(/\r\n/g,"\n"),T=j.length;for(;t=j[A],A<T;){switch(r=A,x){case c:A=z();break;case l:case h:A=V();break;case p:A=X();break;case d:A=q();break;case E:A=Y();break;case g:A=W();break;case f:A=K();break;case m:A=G();break;case u:A=F()}if(r!==A)switch(j[r]){case"\n":N=0,++L;break;default:++N}}return R+=A,j=j.slice(A),O}(e):function(e){S.length&&B(S.join(""));return x=b,B("(eof)"),O}()};function B(e){e.length&&O.push({type:w[x],data:e,position:P,line:L,column:N})}function F(){return S=S.length?[]:S,"/"===r&&"*"===t?(P=R+A-1,x=c,r=t,A+1):"/"===r&&"/"===t?(P=R+A-1,x=l,r=t,A+1):"#"===t?(x=h,P=R+A,A):/\s/.test(t)?(x=m,P=R+A,A):(C=/\d/.test(t),I=/[^\w_]/.test(t),P=R+A,x=C?d:I?p:f,A)}function G(){return/[^\s]/g.test(t)?(B(S.join("")),x=u,A):(S.push(t),r=t,A+1)}function V(){return"\r"!==t&&"\n"!==t||"\\"===r?(S.push(t),r=t,A+1):(B(S.join("")),x=u,A)}function z(){return"/"===t&&"*"===r?(S.push(t),B(S.join("")),x=u,A+1):(S.push(t),r=t,A+1)}function X(){if("."===r&&/\d/.test(t))return x=g,A;if("/"===r&&"*"===t)return x=c,A;if("/"===r&&"/"===t)return x=l,A;if("."===t&&S.length){for(;H(S););return x=g,A}if(";"===t||")"===t||"("===t){if(S.length)for(;H(S););return B(t),x=u,A+1}var e=2===S.length&&"="!==t;if(/[\w_\d\s]/.test(t)||e){for(;H(S););return x=u,A}return S.push(t),r=t,A+1}function H(e){for(var t,r,n=0;;){if(t=o.indexOf(e.slice(0,e.length+n).join("")),r=o[t],-1===t){if(n--+e.length>0)continue;r=e.slice(0,1).join("")}return B(r),P+=r.length,(S=S.slice(r.length)).length}}function Y(){return/[^a-fA-F0-9]/.test(t)?(B(S.join("")),x=u,A):(S.push(t),r=t,A+1)}function q(){return"."===t?(S.push(t),x=g,r=t,A+1):/[eE]/.test(t)?(S.push(t),x=g,r=t,A+1):"x"===t&&1===S.length&&"0"===S[0]?(x=E,S.push(t),r=t,A+1):/[^\d]/.test(t)?(B(S.join("")),x=u,A):(S.push(t),r=t,A+1)}function W(){return"f"===t&&(S.push(t),r=t,A+=1),/[eE]/.test(t)?(S.push(t),r=t,A+1):("-"!==t&&"+"!==t||!/[eE]/.test(r))&&/[^\d]/.test(t)?(B(S.join("")),x=u,A):(S.push(t),r=t,A+1)}function K(){if(/[^\d\w_]/.test(t)){var e=S.join("");return x=D[e]?y:U[e]?v:_,B(S.join("")),x=u,A}return S.push(t),r=t,A+1}};var n=r("GTa7"),o=r("aiXG"),a=r("Xs3h"),i=r("9fJb"),s=r("BkhO"),u=999,f=9999,c=0,l=1,h=2,p=3,d=4,g=5,_=6,v=7,y=8,m=9,b=10,E=11,w=["block-comment","line-comment","preprocessor","operator","integer","float","ident","builtin","keyword","whitespace","eof","integer"]},kR76:function(e,t,r){var n=r("SMLl");e.exports=function(e,t,r){t="number"==typeof t?t:1,r=r||": ";var o=e.split(/\r?\n/),a=String(o.length+t-1).length;return o.map(function(e,o){var i=o+t,s=String(i).length,u=n(i,a-s);return u+r+e}).join("\n")}},"kVK+":function(e,t){t.read=function(e,t,r,n,o){var a,i,s=8*o-n-1,u=(1<<s)-1,f=u>>1,c=-7,l=r?o-1:0,h=r?-1:1,p=e[t+l];for(l+=h,a=p&(1<<-c)-1,p>>=-c,c+=s;c>0;a=256*a+e[t+l],l+=h,c-=8);for(i=a&(1<<-c)-1,a>>=-c,c+=n;c>0;i=256*i+e[t+l],l+=h,c-=8);if(0===a)a=1-f;else{if(a===u)return i?NaN:1/0*(p?-1:1);i+=Math.pow(2,n),a-=f}return(p?-1:1)*i*Math.pow(2,a-n)},t.write=function(e,t,r,n,o,a){var i,s,u,f=8*a-o-1,c=(1<<f)-1,l=c>>1,h=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,p=n?0:a-1,d=n?1:-1,g=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,i=c):(i=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-i))<1&&(i--,u*=2),(t+=i+l>=1?h/u:h*Math.pow(2,1-l))*u>=2&&(i++,u/=2),i+l>=c?(s=0,i=c):i+l>=1?(s=(t*u-1)*Math.pow(2,o),i+=l):(s=t*Math.pow(2,l-1)*Math.pow(2,o),i=0));o>=8;e[r+p]=255&s,p+=d,s/=256,o-=8);for(i=i<<o|s,f+=o;f>0;e[r+p]=255&i,p+=d,i/=256,f-=8);e[r+p-d]|=128*g}},l8j9:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=r("TGEO");function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var i=function(e){function t(){var e,r,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=n=a(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n.disposes={},a(n,r)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.WebGLTextureLoaderSyncHashCache),n(t,[{key:"canLoad",value:function(e){return e instanceof HTMLCanvasElement}},{key:"inputHash",value:function(e){return e}},{key:"getNoCache",value:function(e){var t=this.gl,r=e.width,n=e.height,o=t.createTexture();return t.bindTexture(t.TEXTURE_2D,o),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,e),{texture:o,width:r,height:n}}},{key:"update",value:function(e){var t=this.gl,r=this.get(e).texture;t.bindTexture(t.TEXTURE_2D,r),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,e)}}]),t}();o.globalRegistry.add(i),t.default=i},laZL:function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var n,o,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=(n=["\nattribute vec2 _p;\nvarying vec2 uv;\nvoid main() {\ngl_Position = vec4(_p,0.0,1.0);\nuv = vec2(0.5, 0.5) * (_p+vec2(1.0, 1.0));\n}"],o=["\nattribute vec2 _p;\nvarying vec2 uv;\nvoid main() {\ngl_Position = vec4(_p,0.0,1.0);\nuv = vec2(0.5, 0.5) * (_p+vec2(1.0, 1.0));\n}"],Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(o)}})));t.isShaderIdentifier=function(e){return"object"===(void 0===e?"undefined":a(e))&&!!e&&e.type===l&&"string"==typeof e.id},t.ensureShaderDefinition=v,t.shaderDefinitionToShaderInfo=y,t.shaderInfoEquals=function(e,t){return e.frag===t.frag&&e.vert===t.vert};var s=f(r("QLaP")),u=f(r("dEu3"));function f(e){return e&&e.__esModule?e:{default:e}}var c,l="ShaderID",h={},p={},d={},g=(c=0,function(){return(++c).toString()}),_=(0,u.default)(i);function v(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return(0,s.default)(e&&"string"==typeof e.frag,"A `frag` GLSL code (string) is required"+t),e}function y(e){return{frag:e.frag,vert:e.vert||_}}var m=e.__glReactShaders=e.__glReactShaders||{create:function(e){var t={};return Object.keys(e).forEach(function(r){var n=v(e[r]," in Shaders.create({ "+r+": ... })"),o=g(),a=Object.freeze({type:l,id:o});h[o]=n,p[o]=r,t[r]=a;var i=y(n);d[o]=i}),t},getName:function(e){return(p[e.id]||"???")+"#"+String(e.id)},getShortName:function(e){return p[e.id]||"???"},get:function(e){return(0,s.default)(e.id in h,"Shader %s does not exist. Make sure you don't have gl-react dup issue: `npm ls gl-react`",e.id),d[e.id]}};t.default=m}).call(this,r("3r9c"))},nXQg:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={Backbuffer:"_Backbuffer_",backbufferFrom:function(e){return{type:"BackbufferFrom",node:e}},Resolution:"_Resolution_",textureSize:function(e){return{type:"TextureSize",obj:e}},textureSizeRatio:function(e){return{type:"TextureSize",obj:e,ratio:!0}}}},nZgG:function(e,t,r){var n=r("Y7ZC");n(n.S+n.F*!r("jmDH"),"Object",{defineProperties:r("fpC5")})},nhzr:function(e,t,r){r("fW1p"),e.exports=r("WEpk").Object.values},"o/2B":function(e,t){function r(e,t,r){this.shortMessage=t||"",this.longMessage=r||"",this.rawError=e||"",this.message="gl-shader: "+(t||e||"")+(r?"\n"+r:""),this.stack=(new Error).stack}r.prototype=new Error,r.prototype.name="GLError",r.prototype.constructor=r,e.exports=r},pIo5:function(e,t,r){"use strict";function n(e){var t=32;return(e&=-e)&&t--,65535&e&&(t-=16),16711935&e&&(t-=8),252645135&e&&(t-=4),858993459&e&&(t-=2),1431655765&e&&(t-=1),t}t.INT_BITS=32,t.INT_MAX=2147483647,t.INT_MIN=-1<<31,t.sign=function(e){return(e>0)-(e<0)},t.abs=function(e){var t=e>>31;return(e^t)-t},t.min=function(e,t){return t^(e^t)&-(e<t)},t.max=function(e,t){return e^(e^t)&-(e<t)},t.isPow2=function(e){return!(e&e-1||!e)},t.log2=function(e){var t,r;return t=(e>65535)<<4,t|=r=((e>>>=t)>255)<<3,t|=r=((e>>>=r)>15)<<2,(t|=r=((e>>>=r)>3)<<1)|(e>>>=r)>>1},t.log10=function(e){return e>=1e9?9:e>=1e8?8:e>=1e7?7:e>=1e6?6:e>=1e5?5:e>=1e4?4:e>=1e3?3:e>=100?2:e>=10?1:0},t.popCount=function(e){return 16843009*((e=(858993459&(e-=e>>>1&1431655765))+(e>>>2&858993459))+(e>>>4)&252645135)>>>24},t.countTrailingZeros=n,t.nextPow2=function(e){return e+=0===e,--e,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,(e|=e>>>16)+1},t.prevPow2=function(e){return e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,(e|=e>>>16)-(e>>>1)},t.parity=function(e){return e^=e>>>16,e^=e>>>8,e^=e>>>4,27030>>>(e&=15)&1};var o=new Array(256);!function(e){for(var t=0;t<256;++t){var r=t,n=t,o=7;for(r>>>=1;r;r>>>=1)n<<=1,n|=1&r,--o;e[t]=n<<o&255}}(o),t.reverse=function(e){return o[255&e]<<24|o[e>>>8&255]<<16|o[e>>>16&255]<<8|o[e>>>24&255]},t.interleave2=function(e,t){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e&=65535)|e<<8))|e<<4))|e<<2))|e<<1))|(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t&=65535)|t<<8))|t<<4))|t<<2))|t<<1))<<1},t.deinterleave2=function(e,t){return(e=65535&((e=16711935&((e=252645135&((e=858993459&((e=e>>>t&1431655765)|e>>>1))|e>>>2))|e>>>4))|e>>>16))<<16>>16},t.interleave3=function(e,t,r){return e=1227133513&((e=3272356035&((e=251719695&((e=4278190335&((e&=1023)|e<<16))|e<<8))|e<<4))|e<<2),(e|=(t=1227133513&((t=3272356035&((t=251719695&((t=4278190335&((t&=1023)|t<<16))|t<<8))|t<<4))|t<<2))<<1)|(r=1227133513&((r=3272356035&((r=251719695&((r=4278190335&((r&=1023)|r<<16))|r<<8))|r<<4))|r<<2))<<2},t.deinterleave3=function(e,t){return(e=1023&((e=4278190335&((e=251719695&((e=3272356035&((e=e>>>t&1227133513)|e>>>2))|e>>>4))|e>>>8))|e>>>16))<<22>>22},t.nextCombination=function(e){var t=e|e-1;return t+1|(~t&-~t)-1>>>n(e)+1}},rhSW:function(e,t){e.exports={0:"NONE",1:"ONE",2:"LINE_LOOP",3:"LINE_STRIP",4:"TRIANGLES",5:"TRIANGLE_STRIP",6:"TRIANGLE_FAN",256:"DEPTH_BUFFER_BIT",512:"NEVER",513:"LESS",514:"EQUAL",515:"LEQUAL",516:"GREATER",517:"NOTEQUAL",518:"GEQUAL",519:"ALWAYS",768:"SRC_COLOR",769:"ONE_MINUS_SRC_COLOR",770:"SRC_ALPHA",771:"ONE_MINUS_SRC_ALPHA",772:"DST_ALPHA",773:"ONE_MINUS_DST_ALPHA",774:"DST_COLOR",775:"ONE_MINUS_DST_COLOR",776:"SRC_ALPHA_SATURATE",1024:"STENCIL_BUFFER_BIT",1028:"FRONT",1029:"BACK",1032:"FRONT_AND_BACK",1280:"INVALID_ENUM",1281:"INVALID_VALUE",1282:"INVALID_OPERATION",1285:"OUT_OF_MEMORY",1286:"INVALID_FRAMEBUFFER_OPERATION",2304:"CW",2305:"CCW",2849:"LINE_WIDTH",2884:"CULL_FACE",2885:"CULL_FACE_MODE",2886:"FRONT_FACE",2928:"DEPTH_RANGE",2929:"DEPTH_TEST",2930:"DEPTH_WRITEMASK",2931:"DEPTH_CLEAR_VALUE",2932:"DEPTH_FUNC",2960:"STENCIL_TEST",2961:"STENCIL_CLEAR_VALUE",2962:"STENCIL_FUNC",2963:"STENCIL_VALUE_MASK",2964:"STENCIL_FAIL",2965:"STENCIL_PASS_DEPTH_FAIL",2966:"STENCIL_PASS_DEPTH_PASS",2967:"STENCIL_REF",2968:"STENCIL_WRITEMASK",2978:"VIEWPORT",3024:"DITHER",3042:"BLEND",3088:"SCISSOR_BOX",3089:"SCISSOR_TEST",3106:"COLOR_CLEAR_VALUE",3107:"COLOR_WRITEMASK",3317:"UNPACK_ALIGNMENT",3333:"PACK_ALIGNMENT",3379:"MAX_TEXTURE_SIZE",3386:"MAX_VIEWPORT_DIMS",3408:"SUBPIXEL_BITS",3410:"RED_BITS",3411:"GREEN_BITS",3412:"BLUE_BITS",3413:"ALPHA_BITS",3414:"DEPTH_BITS",3415:"STENCIL_BITS",3553:"TEXTURE_2D",4352:"DONT_CARE",4353:"FASTEST",4354:"NICEST",5120:"BYTE",5121:"UNSIGNED_BYTE",5122:"SHORT",5123:"UNSIGNED_SHORT",5124:"INT",5125:"UNSIGNED_INT",5126:"FLOAT",5386:"INVERT",5890:"TEXTURE",6401:"STENCIL_INDEX",6402:"DEPTH_COMPONENT",6406:"ALPHA",6407:"RGB",6408:"RGBA",6409:"LUMINANCE",6410:"LUMINANCE_ALPHA",7680:"KEEP",7681:"REPLACE",7682:"INCR",7683:"DECR",7936:"VENDOR",7937:"RENDERER",7938:"VERSION",9728:"NEAREST",9729:"LINEAR",9984:"NEAREST_MIPMAP_NEAREST",9985:"LINEAR_MIPMAP_NEAREST",9986:"NEAREST_MIPMAP_LINEAR",9987:"LINEAR_MIPMAP_LINEAR",10240:"TEXTURE_MAG_FILTER",10241:"TEXTURE_MIN_FILTER",10242:"TEXTURE_WRAP_S",10243:"TEXTURE_WRAP_T",10497:"REPEAT",10752:"POLYGON_OFFSET_UNITS",16384:"COLOR_BUFFER_BIT",32769:"CONSTANT_COLOR",32770:"ONE_MINUS_CONSTANT_COLOR",32771:"CONSTANT_ALPHA",32772:"ONE_MINUS_CONSTANT_ALPHA",32773:"BLEND_COLOR",32774:"FUNC_ADD",32777:"BLEND_EQUATION_RGB",32778:"FUNC_SUBTRACT",32779:"FUNC_REVERSE_SUBTRACT",32819:"UNSIGNED_SHORT_4_4_4_4",32820:"UNSIGNED_SHORT_5_5_5_1",32823:"POLYGON_OFFSET_FILL",32824:"POLYGON_OFFSET_FACTOR",32854:"RGBA4",32855:"RGB5_A1",32873:"TEXTURE_BINDING_2D",32926:"SAMPLE_ALPHA_TO_COVERAGE",32928:"SAMPLE_COVERAGE",32936:"SAMPLE_BUFFERS",32937:"SAMPLES",32938:"SAMPLE_COVERAGE_VALUE",32939:"SAMPLE_COVERAGE_INVERT",32968:"BLEND_DST_RGB",32969:"BLEND_SRC_RGB",32970:"BLEND_DST_ALPHA",32971:"BLEND_SRC_ALPHA",33071:"CLAMP_TO_EDGE",33170:"GENERATE_MIPMAP_HINT",33189:"DEPTH_COMPONENT16",33306:"DEPTH_STENCIL_ATTACHMENT",33635:"UNSIGNED_SHORT_5_6_5",33648:"MIRRORED_REPEAT",33901:"ALIASED_POINT_SIZE_RANGE",33902:"ALIASED_LINE_WIDTH_RANGE",33984:"TEXTURE0",33985:"TEXTURE1",33986:"TEXTURE2",33987:"TEXTURE3",33988:"TEXTURE4",33989:"TEXTURE5",33990:"TEXTURE6",33991:"TEXTURE7",33992:"TEXTURE8",33993:"TEXTURE9",33994:"TEXTURE10",33995:"TEXTURE11",33996:"TEXTURE12",33997:"TEXTURE13",33998:"TEXTURE14",33999:"TEXTURE15",34000:"TEXTURE16",34001:"TEXTURE17",34002:"TEXTURE18",34003:"TEXTURE19",34004:"TEXTURE20",34005:"TEXTURE21",34006:"TEXTURE22",34007:"TEXTURE23",34008:"TEXTURE24",34009:"TEXTURE25",34010:"TEXTURE26",34011:"TEXTURE27",34012:"TEXTURE28",34013:"TEXTURE29",34014:"TEXTURE30",34015:"TEXTURE31",34016:"ACTIVE_TEXTURE",34024:"MAX_RENDERBUFFER_SIZE",34041:"DEPTH_STENCIL",34055:"INCR_WRAP",34056:"DECR_WRAP",34067:"TEXTURE_CUBE_MAP",34068:"TEXTURE_BINDING_CUBE_MAP",34069:"TEXTURE_CUBE_MAP_POSITIVE_X",34070:"TEXTURE_CUBE_MAP_NEGATIVE_X",34071:"TEXTURE_CUBE_MAP_POSITIVE_Y",34072:"TEXTURE_CUBE_MAP_NEGATIVE_Y",34073:"TEXTURE_CUBE_MAP_POSITIVE_Z",34074:"TEXTURE_CUBE_MAP_NEGATIVE_Z",34076:"MAX_CUBE_MAP_TEXTURE_SIZE",34338:"VERTEX_ATTRIB_ARRAY_ENABLED",34339:"VERTEX_ATTRIB_ARRAY_SIZE",34340:"VERTEX_ATTRIB_ARRAY_STRIDE",34341:"VERTEX_ATTRIB_ARRAY_TYPE",34342:"CURRENT_VERTEX_ATTRIB",34373:"VERTEX_ATTRIB_ARRAY_POINTER",34466:"NUM_COMPRESSED_TEXTURE_FORMATS",34467:"COMPRESSED_TEXTURE_FORMATS",34660:"BUFFER_SIZE",34661:"BUFFER_USAGE",34816:"STENCIL_BACK_FUNC",34817:"STENCIL_BACK_FAIL",34818:"STENCIL_BACK_PASS_DEPTH_FAIL",34819:"STENCIL_BACK_PASS_DEPTH_PASS",34877:"BLEND_EQUATION_ALPHA",34921:"MAX_VERTEX_ATTRIBS",34922:"VERTEX_ATTRIB_ARRAY_NORMALIZED",34930:"MAX_TEXTURE_IMAGE_UNITS",34962:"ARRAY_BUFFER",34963:"ELEMENT_ARRAY_BUFFER",34964:"ARRAY_BUFFER_BINDING",34965:"ELEMENT_ARRAY_BUFFER_BINDING",34975:"VERTEX_ATTRIB_ARRAY_BUFFER_BINDING",35040:"STREAM_DRAW",35044:"STATIC_DRAW",35048:"DYNAMIC_DRAW",35632:"FRAGMENT_SHADER",35633:"VERTEX_SHADER",35660:"MAX_VERTEX_TEXTURE_IMAGE_UNITS",35661:"MAX_COMBINED_TEXTURE_IMAGE_UNITS",35663:"SHADER_TYPE",35664:"FLOAT_VEC2",35665:"FLOAT_VEC3",35666:"FLOAT_VEC4",35667:"INT_VEC2",35668:"INT_VEC3",35669:"INT_VEC4",35670:"BOOL",35671:"BOOL_VEC2",35672:"BOOL_VEC3",35673:"BOOL_VEC4",35674:"FLOAT_MAT2",35675:"FLOAT_MAT3",35676:"FLOAT_MAT4",35678:"SAMPLER_2D",35680:"SAMPLER_CUBE",35712:"DELETE_STATUS",35713:"COMPILE_STATUS",35714:"LINK_STATUS",35715:"VALIDATE_STATUS",35716:"INFO_LOG_LENGTH",35717:"ATTACHED_SHADERS",35718:"ACTIVE_UNIFORMS",35719:"ACTIVE_UNIFORM_MAX_LENGTH",35720:"SHADER_SOURCE_LENGTH",35721:"ACTIVE_ATTRIBUTES",35722:"ACTIVE_ATTRIBUTE_MAX_LENGTH",35724:"SHADING_LANGUAGE_VERSION",35725:"CURRENT_PROGRAM",36003:"STENCIL_BACK_REF",36004:"STENCIL_BACK_VALUE_MASK",36005:"STENCIL_BACK_WRITEMASK",36006:"FRAMEBUFFER_BINDING",36007:"RENDERBUFFER_BINDING",36048:"FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE",36049:"FRAMEBUFFER_ATTACHMENT_OBJECT_NAME",36050:"FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL",36051:"FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE",36053:"FRAMEBUFFER_COMPLETE",36054:"FRAMEBUFFER_INCOMPLETE_ATTACHMENT",36055:"FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT",36057:"FRAMEBUFFER_INCOMPLETE_DIMENSIONS",36061:"FRAMEBUFFER_UNSUPPORTED",36064:"COLOR_ATTACHMENT0",36096:"DEPTH_ATTACHMENT",36128:"STENCIL_ATTACHMENT",36160:"FRAMEBUFFER",36161:"RENDERBUFFER",36162:"RENDERBUFFER_WIDTH",36163:"RENDERBUFFER_HEIGHT",36164:"RENDERBUFFER_INTERNAL_FORMAT",36168:"STENCIL_INDEX8",36176:"RENDERBUFFER_RED_SIZE",36177:"RENDERBUFFER_GREEN_SIZE",36178:"RENDERBUFFER_BLUE_SIZE",36179:"RENDERBUFFER_ALPHA_SIZE",36180:"RENDERBUFFER_DEPTH_SIZE",36181:"RENDERBUFFER_STENCIL_SIZE",36194:"RGB565",36336:"LOW_FLOAT",36337:"MEDIUM_FLOAT",36338:"HIGH_FLOAT",36339:"LOW_INT",36340:"MEDIUM_INT",36341:"HIGH_INT",36346:"SHADER_COMPILER",36347:"MAX_VERTEX_UNIFORM_VECTORS",36348:"MAX_VARYING_VECTORS",36349:"MAX_FRAGMENT_UNIFORM_VECTORS",37440:"UNPACK_FLIP_Y_WEBGL",37441:"UNPACK_PREMULTIPLY_ALPHA_WEBGL",37442:"CONTEXT_LOST_WEBGL",37443:"UNPACK_COLORSPACE_CONVERSION_WEBGL",37444:"BROWSER_DEFAULT_WEBGL"}},"rr/c":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Backbuffer=t.Visitors=t.VisitorLogger=t.Visitor=t.Uniform=t.Shaders=t.Node=t.NearestCopy=t.LinearCopy=t.GLSL=t.listSurfaces=t.createSurface=t.connectSize=t.Bus=void 0;var n=_(r("dLFq")),o=_(r("5rLZ")),a=r("dGjt"),i=_(a),s=_(r("dEu3")),u=_(r("9tIV")),f=_(r("FRc1")),c=_(r("JwSf")),l=_(r("laZL")),h=_(r("nXQg")),p=_(r("8e5R")),d=_(r("UWhB")),g=_(r("38ab"));function _(e){return e&&e.__esModule?e:{default:e}}r("y0kB"),t.Bus=n.default,t.connectSize=o.default,t.createSurface=i.default,t.listSurfaces=a.list,t.GLSL=s.default,t.LinearCopy=u.default,t.NearestCopy=f.default,t.Node=c.default,t.Shaders=l.default,t.Uniform=h.default,t.Visitor=p.default,t.VisitorLogger=d.default,t.Visitors=g.default;t.Backbuffer="Backbuffer"},sjFK:function(e,t,r){"use strict";r.r(t);var n=r("2wwy"),o=r.n(n),a=r("Cg2A"),i=r.n(a),s=r("0iUn"),u=r("sLSF"),f=r("MI3g"),c=r("a7VT"),l=r("AT/M"),h=r("Tit0"),p=r("vYYK"),d=r("q1tI"),g=r.n(d),_=r("/MKj"),v=r("EgnG"),y=r("HYQe"),m=r.n(y),b=r("rdxz"),E=r("rr/c"),w=r("e0Q9"),T=r("dpPk"),A=r.n(T),R=r("2Eek"),x=r.n(R),S=r("FbiP"),O=r.n(S);function L(e,t){return t||(t=e.slice(0)),O()(x()(e,{raw:{value:O()(t)}}))}function N(){var e=L(["\nprecision lowp float;\n\nvarying vec2 uv;\nuniform vec2  u_mouse;\nuniform float u_time;\nuniform float u_frequency;\nuniform float u_speed;\nuniform float u_amplitude;\nuniform sampler2D texture;\n\nvec2 falloff( float frequency, float speed, float amplitude ){\n\n  vec2  d = uv - u_mouse;\n\n  // distance of pixel from mouse\n  float r = sqrt(dot(d, d));\n\n  vec2 position = vec2(u_mouse + normalize(d) * r );\n\n  return position + sin( uv * frequency + u_time * speed ) * (r - 0.5) * amplitude;\n\n}\n\nvoid main() {\n\n  // Falloff Calculation\n  vec2 distortion1 = falloff(u_frequency, u_speed, u_amplitude);\n  vec2 distortion2 = falloff((u_frequency*0.95), (u_speed*0.95), (u_amplitude*1.05));\n\n  // Shift RGB Values\n  vec4 c1 = texture2D( texture, vec2(uv.x, distortion1.y) );\n  vec4 c2 = texture2D( texture, vec2(distortion2.x, distortion2.y) );\n\tvec4 c3 = texture2D( texture, vec2(distortion1.x, uv.y) );\n\n  // Put RGB back together\n  vec4 color = vec4(c1.r, c2.g, c3.b, 1.0);\n\n  // Set Colors\n  gl_FragColor = vec4( color );\n}\n"]);return N=function(){return e},e}var P=E.Shaders.create({RGBShift:{frag:Object(E.GLSL)(N())}}),C=function(e){var t=e.children,r=e.time,n=(e.width,e.height,e.mouse),o=e.uniforms;return g.a.createElement(E.Node,{WrapMode:"clamp to edge",shader:P.RGBShift,uniforms:{texture:t,u_time:r,u_frequency:o[0],u_speed:o[1],u_amplitude:o[2],u_mouse:n}})};function I(){var e=L(["\nprecision lowp float;\n\nvarying vec2  uv;\nuniform float u_time;\nuniform float u_frequency;\nuniform float u_speed;\nuniform float u_amplitude;\nuniform sampler2D texture;\n\nvoid main() {\n\n  float pi = 3.14159265359;\n  vec2  d = uv;\n  float r = sqrt(dot(d, d));\n  vec2 position = vec2(normalize(d) * r );\n\n  const float N=16.0;\n\n  float angle = 0.0;\n  float intensity = 0.0;\n\n  for (float i=0.0; i <N;i++)\n  {\n    angle = u_frequency * u_speed * u_time * i * position.y * position.x;\n    vec2 direction = vec2( sin(angle), sin(angle));\n    intensity = dot( sin(direction), sin(position));\n  }\n\n  position = uv + (intensity*u_amplitude);\n  vec4 color = texture2D( texture, vec2(position) );\n  gl_FragColor = vec4( vec3( color ), 1.0 );\n\n}\n"]);return I=function(){return e},e}var j=E.Shaders.create({Trippy:{frag:Object(E.GLSL)(I())}}),k=function(e){var t=e.children,r=e.time,n=e.uniforms;return g.a.createElement(E.Node,{WrapMode:"clamp to edge",shader:j.Trippy,uniforms:{texture:t,u_time:r,u_frequency:n[0],u_speed:n[1],u_amplitude:n[2]}})};function M(){var e=L(["\nprecision highp float;\n\nvarying vec2 uv;\nuniform float time;\nuniform vec2 resolution;\nuniform sampler2D texture;\n\nvec2 kaleido(vec2 uv)\n{\n\tfloat th = atan(uv.y, uv.x);\n\tfloat r = pow(length(uv), .9);\n\tfloat f = 3.14159 / 3.5;\n\n\tth = abs(mod(th + f/4.0, f) - f/2.0) / (1.0 + r);\n\t//th = sin(th * 6.283 / f);\n\n\treturn vec2(cos(th), sin(th)) * r * .15;\n}\n\nvec2 transform(vec2 at)\n{\n\tvec2 v;\n\tfloat th = .8 * time;\n\tv.x = at.x * cos(th) - at.y * sin(th) - .05 * sin(th);\n\tv.y = at.x * sin(th) + at.y * cos(th) + .05 * cos(th);\n\treturn v;\n}\n\nvec4 scene(vec2 at)\n{\n\tfloat x = mod(time / 8.0, 3.0);\n\tif (x < 1.0)\n\t\treturn texture2D(texture, transform(at) * 5.0);\n\tif (x < 2.0)\n\t\treturn texture2D(texture, transform(at) * 2.0);\n\tif (x < 3.0)\n\t\treturn texture2D(texture, transform(at) * 3.0);\n\treturn texture2D(texture, transform(at) * 2.0);\n}\n\nvoid main()\n{\n  vec2 uv = gl_FragCoord.xy / resolution.xy;\n\tuv.x = mix(-1.0, 1.0, uv.x);\n\tuv.y = mix(-1.0, 1.0, uv.y);\n\tuv.y *= resolution.y / resolution.x;\n\n\tgl_FragColor = scene(kaleido(uv));\n}\n"]);return M=function(){return e},e}var U=E.Shaders.create({Kaleidoscope:{frag:Object(E.GLSL)(M())}}),D=function(e){var t=e.children,r=e.time,n=e.height,o=e.width;return g.a.createElement(E.Node,{WrapMode:"clamp to edge",shader:U.Kaleidoscope,uniforms:{texture:t,time:r,resolution:[o,n]}})},B=function(e){function t(e){var r;return Object(s.default)(this,t),r=Object(f.default)(this,Object(c.default)(t).call(this,e)),Object(p.a)(Object(l.default)(r),"componentDidMount",function(){r._loadImage(),r._startLoop(),r.animation=Object(v.a)({targets:".hero-bg",opacity:[{value:[0,1],easing:"linear"}],duration:1600,delay:1e3}),window.addEventListener("mousemove",r._onMouseMove,!1)}),Object(p.a)(Object(l.default)(r),"componentDidUpdate",function(e){e.shaderImage!==r.props.shaderImage&&(r._stopLoop(),r._loadImage())}),Object(p.a)(Object(l.default)(r),"componentWillUnmount",function(){r._stopLoop(),window.removeEventListener("mousemove",r._onMouseMove,!1)}),Object(p.a)(Object(l.default)(r),"_sourceWrap",function(){var e=g.a.createElement(C,{time:r.props.s_rgb?r.state.time:0,mouse:r.state.mouse,uniforms:r.props.s_rgb?r.props.s_rgb:[0,0,0]},r._source());return r.props.special&&(e=g.a.createElement(D,{time:r.state.time,height:r.props.windowHeight,width:r.props.windowWidth},g.a.createElement(C,{time:r.props.s_rgb?r.state.time:0,mouse:r.state.mouse,uniforms:r.props.s_rgb?r.props.s_rgb:[0,0,0]},r._source()))),e}),Object(p.a)(Object(l.default)(r),"_source",function(){switch(r.props.shaderImage){case"case-studies":return r._prpl();case"404":return r._404();default:return g.a.createElement(A.a,{source:r.state.header,resizeMode:"cover"})}}),Object(p.a)(Object(l.default)(r),"_loop",function(){if(r.loop&&(r._frameId=requestAnimationFrame(r._loop),r.now=i()(),r.elapsed=r.now-r.then,r.elapsed>r.fpsInterval)){r.then=r.now-r.elapsed%r.fpsInterval;var e=r.state.time+.001;r.setState({time:e})}}),Object(p.a)(Object(l.default)(r),"_startLoop",function(){r.loop=!0,r._frameId=requestAnimationFrame(r._loop)}),Object(p.a)(Object(l.default)(r),"_stopLoop",function(){r.loop=!1,cancelAnimationFrame(r._frameId),r._frameId=null}),Object(p.a)(Object(l.default)(r),"_onMouseMove",function(e){r.setState({mouse:[e.clientX/r.props.windowWidth,1-e.clientY/r.props.windowHeight]})}),Object(p.a)(Object(l.default)(r),"_special",function(){}),Object(p.a)(Object(l.default)(r),"_default",function(){g.a.createElement(C,{time:r.props.s_rgb?r.state.time:0,mouse:r.state.mouse,uniforms:r.props.s_rgb?r.props.s_rgb:[0,0,0]},g.a.createElement(A.a,{source:r.state.header,resizeMode:"cover"}))}),Object(p.a)(Object(l.default)(r),"_prpl",function(){var e=.4*r.props.windowWidth,t=r.props.windowHeight,n=.08*r.props.windowWidth,o=r.props.windowWidth-.8*e,a=r.props.scrollPosition;return g.a.createElement(C,{time:r.props.s_rgb?r.state.time:0,mouse:r.state.mouse,uniforms:r.props.s_rgb?r.props.s_rgb:[0,0,0]},g.a.createElement(m.a,{width:r.props.windowWidth,height:r.props.windowHeight},{background:b.a.grayscale.bg2,size:[r.props.windowWidth,r.props.windowHeight],draws:[{font:e+"px 'Larsseit-Bold'",fillStyle:b.a.grayscale.gray2,strokeStyle:b.a.grayscale.gray4,lineWidth:4},["strokeText","P",n,.7*t-.9*a,60],["strokeText","R",o,1.6*t-.75*a,60],["strokeText","P",n,2.5*t-.82*a,60],["strokeText","L",o,3*t-.76*a,60]]}))}),Object(p.a)(Object(l.default)(r),"_404",function(){var e=.3*r.props.windowWidth,t=.22*r.props.windowHeight,n=.1*r.props.windowWidth;return g.a.createElement(C,{time:r.props.s_rgb?r.state.time:0,mouse:r.state.mouse,uniforms:r.props.s_rgb?r.props.s_rgb:[0,0,0]},g.a.createElement(m.a,{width:r.props.windowWidth,height:r.props.windowHeight},{background:b.a.grayscale.bg2,size:[r.props.windowWidth,r.props.windowHeight],draws:[{font:e+"px 'Larsseit-Bold'",fillStyle:b.a.grayscale.gray5,strokeStyle:b.a.grayscale.gray5,lineWidth:4},["fillText","error",n,2*t,60]]}))}),Object(p.a)(Object(l.default)(r),"_loadImage",function(){r.setState({header:r.props.shaderImage,time:0}),r._startLoop()}),r.state={header:null,mouse:[0,0],time:0,tick:0},r.loop=!1,r._frameId=null,r.now=null,r.fpsInterval=1e3/24,r.then=i()(),r.startTime=r.then,r}return Object(h.default)(t,e),Object(u.default)(t,[{key:"render",value:function(){return g.a.createElement("div",{className:"bg-container hero-bg"},g.a.createElement(w.Surface,{pixelRatio:1,height:this.props.windowHeight,width:this.props.windowWidth,preload:this.props.preload?o()(this.props.preload):null},g.a.createElement(k,{time:this.props.s_lsd?this.state.time:0,uniforms:this.props.s_lsd?this.props.s_lsd:[0,0,0]},this._sourceWrap())))}}]),t}(g.a.Component);t.default=Object(_.b)(function(e){return e})(B)},st01:function(e,t,r){var n=r("AAS3"),o=r("6v/u");e.exports=function(e){for(var t=Array.isArray(e)?e:n(e),r=0;r<t.length;r++){var a=t[r];if("preprocessor"===a.type){var i=a.data.match(/\#define\s+SHADER_NAME(_B64)?\s+(.+)$/);if(i&&i[2]){var s=i[1],u=i[2];return(s?o(u):u).trim()}}}}},szI9:function(e,t){e.exports=function(e,t){var r={identity:t},n=e.valueOf;return Object.defineProperty(e,"valueOf",{value:function(e){return e!==t?n.apply(this,arguments):r},writable:!0}),r}},tCpK:function(e,t,r){var n=r("rhSW");e.exports=function(e){return n[e]}},tbvF:function(e,t,r){var n=r("IDFI"),o=r("BEtg"),a="undefined"!=typeof Float64Array;function i(e,t){return e[0]-t[0]}function s(){var e,t=this.stride,r=new Array(t.length);for(e=0;e<r.length;++e)r[e]=[Math.abs(t[e]),e];r.sort(i);var n=new Array(r.length);for(e=0;e<n.length;++e)n[e]=r[e][1];return n}function u(e,t){var r=["View",t,"d",e].join("");t<0&&(r="View_Nil"+e);var o="generic"===e;if(-1===t){var a="function "+r+"(a){this.data=a;};var proto="+r+".prototype;proto.dtype='"+e+"';proto.index=function(){return -1};proto.size=0;proto.dimension=-1;proto.shape=proto.stride=proto.order=[];proto.lo=proto.hi=proto.transpose=proto.step=function(){return new "+r+"(this.data);};proto.get=proto.set=function(){};proto.pick=function(){return null};return function construct_"+r+"(a){return new "+r+"(a);}";return new Function(a)()}if(0===t){a="function "+r+"(a,d) {this.data = a;this.offset = d};var proto="+r+".prototype;proto.dtype='"+e+"';proto.index=function(){return this.offset};proto.dimension=0;proto.size=1;proto.shape=proto.stride=proto.order=[];proto.lo=proto.hi=proto.transpose=proto.step=function "+r+"_copy() {return new "+r+"(this.data,this.offset)};proto.pick=function "+r+"_pick(){return TrivialArray(this.data);};proto.valueOf=proto.get=function "+r+"_get(){return "+(o?"this.data.get(this.offset)":"this.data[this.offset]")+"};proto.set=function "+r+"_set(v){return "+(o?"this.data.set(this.offset,v)":"this.data[this.offset]=v")+"};return function construct_"+r+"(a,b,c,d){return new "+r+"(a,d)}";return new Function("TrivialArray",a)(f[e][0])}a=["'use strict'"];var i=n(t),u=i.map(function(e){return"i"+e}),c="this.offset+"+i.map(function(e){return"this.stride["+e+"]*i"+e}).join("+"),l=i.map(function(e){return"b"+e}).join(","),h=i.map(function(e){return"c"+e}).join(",");a.push("function "+r+"(a,"+l+","+h+",d){this.data=a","this.shape=["+l+"]","this.stride=["+h+"]","this.offset=d|0}","var proto="+r+".prototype","proto.dtype='"+e+"'","proto.dimension="+t),a.push("Object.defineProperty(proto,'size',{get:function "+r+"_size(){return "+i.map(function(e){return"this.shape["+e+"]"}).join("*"),"}})"),1===t?a.push("proto.order=[0]"):(a.push("Object.defineProperty(proto,'order',{get:"),t<4?(a.push("function "+r+"_order(){"),2===t?a.push("return (Math.abs(this.stride[0])>Math.abs(this.stride[1]))?[1,0]:[0,1]}})"):3===t&&a.push("var s0=Math.abs(this.stride[0]),s1=Math.abs(this.stride[1]),s2=Math.abs(this.stride[2]);if(s0>s1){if(s1>s2){return [2,1,0];}else if(s0>s2){return [1,2,0];}else{return [1,0,2];}}else if(s0>s2){return [2,0,1];}else if(s2>s1){return [0,1,2];}else{return [0,2,1];}}})")):a.push("ORDER})")),a.push("proto.set=function "+r+"_set("+u.join(",")+",v){"),o?a.push("return this.data.set("+c+",v)}"):a.push("return this.data["+c+"]=v}"),a.push("proto.get=function "+r+"_get("+u.join(",")+"){"),o?a.push("return this.data.get("+c+")}"):a.push("return this.data["+c+"]}"),a.push("proto.index=function "+r+"_index(",u.join(),"){return "+c+"}"),a.push("proto.hi=function "+r+"_hi("+u.join(",")+"){return new "+r+"(this.data,"+i.map(function(e){return["(typeof i",e,"!=='number'||i",e,"<0)?this.shape[",e,"]:i",e,"|0"].join("")}).join(",")+","+i.map(function(e){return"this.stride["+e+"]"}).join(",")+",this.offset)}");var p=i.map(function(e){return"a"+e+"=this.shape["+e+"]"}),d=i.map(function(e){return"c"+e+"=this.stride["+e+"]"});a.push("proto.lo=function "+r+"_lo("+u.join(",")+"){var b=this.offset,d=0,"+p.join(",")+","+d.join(","));for(var g=0;g<t;++g)a.push("if(typeof i"+g+"==='number'&&i"+g+">=0){d=i"+g+"|0;b+=c"+g+"*d;a"+g+"-=d}");a.push("return new "+r+"(this.data,"+i.map(function(e){return"a"+e}).join(",")+","+i.map(function(e){return"c"+e}).join(",")+",b)}"),a.push("proto.step=function "+r+"_step("+u.join(",")+"){var "+i.map(function(e){return"a"+e+"=this.shape["+e+"]"}).join(",")+","+i.map(function(e){return"b"+e+"=this.stride["+e+"]"}).join(",")+",c=this.offset,d=0,ceil=Math.ceil");for(g=0;g<t;++g)a.push("if(typeof i"+g+"==='number'){d=i"+g+"|0;if(d<0){c+=b"+g+"*(a"+g+"-1);a"+g+"=ceil(-a"+g+"/d)}else{a"+g+"=ceil(a"+g+"/d)}b"+g+"*=d}");a.push("return new "+r+"(this.data,"+i.map(function(e){return"a"+e}).join(",")+","+i.map(function(e){return"b"+e}).join(",")+",c)}");var _=new Array(t),v=new Array(t);for(g=0;g<t;++g)_[g]="a[i"+g+"]",v[g]="b[i"+g+"]";a.push("proto.transpose=function "+r+"_transpose("+u+"){"+u.map(function(e,t){return e+"=("+e+"===undefined?"+t+":"+e+"|0)"}).join(";"),"var a=this.shape,b=this.stride;return new "+r+"(this.data,"+_.join(",")+","+v.join(",")+",this.offset)}"),a.push("proto.pick=function "+r+"_pick("+u+"){var a=[],b=[],c=this.offset");for(g=0;g<t;++g)a.push("if(typeof i"+g+"==='number'&&i"+g+">=0){c=(c+this.stride["+g+"]*i"+g+")|0}else{a.push(this.shape["+g+"]);b.push(this.stride["+g+"])}");return a.push("var ctor=CTOR_LIST[a.length+1];return ctor(this.data,a,b,c)}"),a.push("return function construct_"+r+"(data,shape,stride,offset){return new "+r+"(data,"+i.map(function(e){return"shape["+e+"]"}).join(",")+","+i.map(function(e){return"stride["+e+"]"}).join(",")+",offset)}"),new Function("CTOR_LIST","ORDER",a.join("\n"))(f[e],s)}var f={float32:[],float64:[],int8:[],int16:[],int32:[],uint8:[],uint16:[],uint32:[],array:[],uint8_clamped:[],buffer:[],generic:[]};e.exports=function(e,t,r,n){if(void 0===e)return(0,f.array[0])([]);"number"==typeof e&&(e=[e]),void 0===t&&(t=[e.length]);var i=t.length;if(void 0===r){r=new Array(i);for(var s=i-1,c=1;s>=0;--s)r[s]=c,c*=t[s]}if(void 0===n)for(n=0,s=0;s<i;++s)r[s]<0&&(n-=(t[s]-1)*r[s]);for(var l=function(e){if(o(e))return"buffer";if(a)switch(Object.prototype.toString.call(e)){case"[object Float64Array]":return"float64";case"[object Float32Array]":return"float32";case"[object Int8Array]":return"int8";case"[object Int16Array]":return"int16";case"[object Int32Array]":return"int32";case"[object Uint8Array]":return"uint8";case"[object Uint16Array]":return"uint16";case"[object Uint32Array]":return"uint32";case"[object Uint8ClampedArray]":return"uint8_clamped"}return Array.isArray(e)?"array":"generic"}(e),h=f[l];h.length<=i+1;)h.push(u(l,h.length-1));return(0,h[i+1])(e,t,r,n)}},tjlA:function(e,t,r){"use strict";(function(e){var n=r("H7XF"),o=r("kVK+"),a=r("49sm");function i(){return u.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(e,t){if(i()<t)throw new RangeError("Invalid typed array length");return u.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=u.prototype:(null===e&&(e=new u(t)),e.length=t),e}function u(e,t,r){if(!(u.TYPED_ARRAY_SUPPORT||this instanceof u))return new u(e,t,r);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return l(this,e)}return f(this,e,t,r)}function f(e,t,r,n){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,r,n){if(t.byteLength,r<0||t.byteLength<r)throw new RangeError("'offset' is out of bounds");if(t.byteLength<r+(n||0))throw new RangeError("'length' is out of bounds");t=void 0===r&&void 0===n?new Uint8Array(t):void 0===n?new Uint8Array(t,r):new Uint8Array(t,r,n);u.TYPED_ARRAY_SUPPORT?(e=t).__proto__=u.prototype:e=h(e,t);return e}(e,t,r,n):"string"==typeof t?function(e,t,r){"string"==typeof r&&""!==r||(r="utf8");if(!u.isEncoding(r))throw new TypeError('"encoding" must be a valid string encoding');var n=0|d(t,r),o=(e=s(e,n)).write(t,r);o!==n&&(e=e.slice(0,o));return e}(e,t,r):function(e,t){if(u.isBuffer(t)){var r=0|p(t.length);return 0===(e=s(e,r)).length?e:(t.copy(e,0,0,r),e)}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||(n=t.length)!=n?s(e,0):h(e,t);if("Buffer"===t.type&&a(t.data))return h(e,t.data)}var n;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function c(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function l(e,t){if(c(t),e=s(e,t<0?0:0|p(t)),!u.TYPED_ARRAY_SUPPORT)for(var r=0;r<t;++r)e[r]=0;return e}function h(e,t){var r=t.length<0?0:0|p(t.length);e=s(e,r);for(var n=0;n<r;n+=1)e[n]=255&t[n];return e}function p(e){if(e>=i())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i().toString(16)+" bytes");return 0|e}function d(e,t){if(u.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var r=e.length;if(0===r)return 0;for(var n=!1;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return F(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return G(e).length;default:if(n)return F(e).length;t=(""+t).toLowerCase(),n=!0}}function g(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function _(e,t,r,n,o){if(0===e.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,isNaN(r)&&(r=o?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(o)return-1;r=e.length-1}else if(r<0){if(!o)return-1;r=0}if("string"==typeof t&&(t=u.from(t,n)),u.isBuffer(t))return 0===t.length?-1:v(e,t,r,n,o);if("number"==typeof t)return t&=255,u.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):v(e,[t],r,n,o);throw new TypeError("val must be string, number or Buffer")}function v(e,t,r,n,o){var a,i=1,s=e.length,u=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;i=2,s/=2,u/=2,r/=2}function f(e,t){return 1===i?e[t]:e.readUInt16BE(t*i)}if(o){var c=-1;for(a=r;a<s;a++)if(f(e,a)===f(t,-1===c?0:a-c)){if(-1===c&&(c=a),a-c+1===u)return c*i}else-1!==c&&(a-=a-c),c=-1}else for(r+u>s&&(r=s-u),a=r;a>=0;a--){for(var l=!0,h=0;h<u;h++)if(f(e,a+h)!==f(t,h)){l=!1;break}if(l)return a}return-1}function y(e,t,r,n){r=Number(r)||0;var o=e.length-r;n?(n=Number(n))>o&&(n=o):n=o;var a=t.length;if(a%2!=0)throw new TypeError("Invalid hex string");n>a/2&&(n=a/2);for(var i=0;i<n;++i){var s=parseInt(t.substr(2*i,2),16);if(isNaN(s))return i;e[r+i]=s}return i}function m(e,t,r,n){return V(F(t,e.length-r),e,r,n)}function b(e,t,r,n){return V(function(e){for(var t=[],r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(t),e,r,n)}function E(e,t,r,n){return b(e,t,r,n)}function w(e,t,r,n){return V(G(t),e,r,n)}function T(e,t,r,n){return V(function(e,t){for(var r,n,o,a=[],i=0;i<e.length&&!((t-=2)<0);++i)r=e.charCodeAt(i),n=r>>8,o=r%256,a.push(o),a.push(n);return a}(t,e.length-r),e,r,n)}function A(e,t,r){return 0===t&&r===e.length?n.fromByteArray(e):n.fromByteArray(e.slice(t,r))}function R(e,t,r){r=Math.min(e.length,r);for(var n=[],o=t;o<r;){var a,i,s,u,f=e[o],c=null,l=f>239?4:f>223?3:f>191?2:1;if(o+l<=r)switch(l){case 1:f<128&&(c=f);break;case 2:128==(192&(a=e[o+1]))&&(u=(31&f)<<6|63&a)>127&&(c=u);break;case 3:a=e[o+1],i=e[o+2],128==(192&a)&&128==(192&i)&&(u=(15&f)<<12|(63&a)<<6|63&i)>2047&&(u<55296||u>57343)&&(c=u);break;case 4:a=e[o+1],i=e[o+2],s=e[o+3],128==(192&a)&&128==(192&i)&&128==(192&s)&&(u=(15&f)<<18|(63&a)<<12|(63&i)<<6|63&s)>65535&&u<1114112&&(c=u)}null===c?(c=65533,l=1):c>65535&&(c-=65536,n.push(c>>>10&1023|55296),c=56320|1023&c),n.push(c),o+=l}return function(e){var t=e.length;if(t<=x)return String.fromCharCode.apply(String,e);var r="",n=0;for(;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=x));return r}(n)}t.Buffer=u,t.SlowBuffer=function(e){+e!=e&&(e=0);return u.alloc(+e)},t.INSPECT_MAX_BYTES=50,u.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(t){return!1}}(),t.kMaxLength=i(),u.poolSize=8192,u._augment=function(e){return e.__proto__=u.prototype,e},u.from=function(e,t,r){return f(null,e,t,r)},u.TYPED_ARRAY_SUPPORT&&(u.prototype.__proto__=Uint8Array.prototype,u.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&u[Symbol.species]===u&&Object.defineProperty(u,Symbol.species,{value:null,configurable:!0})),u.alloc=function(e,t,r){return function(e,t,r,n){return c(t),t<=0?s(e,t):void 0!==r?"string"==typeof n?s(e,t).fill(r,n):s(e,t).fill(r):s(e,t)}(null,e,t,r)},u.allocUnsafe=function(e){return l(null,e)},u.allocUnsafeSlow=function(e){return l(null,e)},u.isBuffer=function(e){return!(null==e||!e._isBuffer)},u.compare=function(e,t){if(!u.isBuffer(e)||!u.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var r=e.length,n=t.length,o=0,a=Math.min(r,n);o<a;++o)if(e[o]!==t[o]){r=e[o],n=t[o];break}return r<n?-1:n<r?1:0},u.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(e,t){if(!a(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return u.alloc(0);var r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;var n=u.allocUnsafe(t),o=0;for(r=0;r<e.length;++r){var i=e[r];if(!u.isBuffer(i))throw new TypeError('"list" argument must be an Array of Buffers');i.copy(n,o),o+=i.length}return n},u.byteLength=d,u.prototype._isBuffer=!0,u.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)g(this,t,t+1);return this},u.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)g(this,t,t+3),g(this,t+1,t+2);return this},u.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)g(this,t,t+7),g(this,t+1,t+6),g(this,t+2,t+5),g(this,t+3,t+4);return this},u.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?R(this,0,e):function(e,t,r){var n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return L(this,t,r);case"utf8":case"utf-8":return R(this,t,r);case"ascii":return S(this,t,r);case"latin1":case"binary":return O(this,t,r);case"base64":return A(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return N(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}.apply(this,arguments)},u.prototype.equals=function(e){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===u.compare(this,e)},u.prototype.inspect=function(){var e="",r=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,r).match(/.{2}/g).join(" "),this.length>r&&(e+=" ... ")),"<Buffer "+e+">"},u.prototype.compare=function(e,t,r,n,o){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===o&&(o=this.length),t<0||r>e.length||n<0||o>this.length)throw new RangeError("out of range index");if(n>=o&&t>=r)return 0;if(n>=o)return-1;if(t>=r)return 1;if(this===e)return 0;for(var a=(o>>>=0)-(n>>>=0),i=(r>>>=0)-(t>>>=0),s=Math.min(a,i),f=this.slice(n,o),c=e.slice(t,r),l=0;l<s;++l)if(f[l]!==c[l]){a=f[l],i=c[l];break}return a<i?-1:i<a?1:0},u.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},u.prototype.indexOf=function(e,t,r){return _(this,e,t,r,!0)},u.prototype.lastIndexOf=function(e,t,r){return _(this,e,t,r,!1)},u.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(r)?(r|=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var o=this.length-t;if((void 0===r||r>o)&&(r=o),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var a=!1;;)switch(n){case"hex":return y(this,e,t,r);case"utf8":case"utf-8":return m(this,e,t,r);case"ascii":return b(this,e,t,r);case"latin1":case"binary":return E(this,e,t,r);case"base64":return w(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return T(this,e,t,r);default:if(a)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),a=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var x=4096;function S(e,t,r){var n="";r=Math.min(e.length,r);for(var o=t;o<r;++o)n+=String.fromCharCode(127&e[o]);return n}function O(e,t,r){var n="";r=Math.min(e.length,r);for(var o=t;o<r;++o)n+=String.fromCharCode(e[o]);return n}function L(e,t,r){var n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);for(var o="",a=t;a<r;++a)o+=B(e[a]);return o}function N(e,t,r){for(var n=e.slice(t,r),o="",a=0;a<n.length;a+=2)o+=String.fromCharCode(n[a]+256*n[a+1]);return o}function P(e,t,r){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function C(e,t,r,n,o,a){if(!u.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>o||t<a)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}function I(e,t,r,n){t<0&&(t=65535+t+1);for(var o=0,a=Math.min(e.length-r,2);o<a;++o)e[r+o]=(t&255<<8*(n?o:1-o))>>>8*(n?o:1-o)}function j(e,t,r,n){t<0&&(t=4294967295+t+1);for(var o=0,a=Math.min(e.length-r,4);o<a;++o)e[r+o]=t>>>8*(n?o:3-o)&255}function k(e,t,r,n,o,a){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function M(e,t,r,n,a){return a||k(e,0,r,4),o.write(e,t,r,n,23,4),r+4}function U(e,t,r,n,a){return a||k(e,0,r,8),o.write(e,t,r,n,52,8),r+8}u.prototype.slice=function(e,t){var r,n=this.length;if((e=~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e),u.TYPED_ARRAY_SUPPORT)(r=this.subarray(e,t)).__proto__=u.prototype;else{var o=t-e;r=new u(o,void 0);for(var a=0;a<o;++a)r[a]=this[a+e]}return r},u.prototype.readUIntLE=function(e,t,r){e|=0,t|=0,r||P(e,t,this.length);for(var n=this[e],o=1,a=0;++a<t&&(o*=256);)n+=this[e+a]*o;return n},u.prototype.readUIntBE=function(e,t,r){e|=0,t|=0,r||P(e,t,this.length);for(var n=this[e+--t],o=1;t>0&&(o*=256);)n+=this[e+--t]*o;return n},u.prototype.readUInt8=function(e,t){return t||P(e,1,this.length),this[e]},u.prototype.readUInt16LE=function(e,t){return t||P(e,2,this.length),this[e]|this[e+1]<<8},u.prototype.readUInt16BE=function(e,t){return t||P(e,2,this.length),this[e]<<8|this[e+1]},u.prototype.readUInt32LE=function(e,t){return t||P(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},u.prototype.readUInt32BE=function(e,t){return t||P(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},u.prototype.readIntLE=function(e,t,r){e|=0,t|=0,r||P(e,t,this.length);for(var n=this[e],o=1,a=0;++a<t&&(o*=256);)n+=this[e+a]*o;return n>=(o*=128)&&(n-=Math.pow(2,8*t)),n},u.prototype.readIntBE=function(e,t,r){e|=0,t|=0,r||P(e,t,this.length);for(var n=t,o=1,a=this[e+--n];n>0&&(o*=256);)a+=this[e+--n]*o;return a>=(o*=128)&&(a-=Math.pow(2,8*t)),a},u.prototype.readInt8=function(e,t){return t||P(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},u.prototype.readInt16LE=function(e,t){t||P(e,2,this.length);var r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},u.prototype.readInt16BE=function(e,t){t||P(e,2,this.length);var r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},u.prototype.readInt32LE=function(e,t){return t||P(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},u.prototype.readInt32BE=function(e,t){return t||P(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},u.prototype.readFloatLE=function(e,t){return t||P(e,4,this.length),o.read(this,e,!0,23,4)},u.prototype.readFloatBE=function(e,t){return t||P(e,4,this.length),o.read(this,e,!1,23,4)},u.prototype.readDoubleLE=function(e,t){return t||P(e,8,this.length),o.read(this,e,!0,52,8)},u.prototype.readDoubleBE=function(e,t){return t||P(e,8,this.length),o.read(this,e,!1,52,8)},u.prototype.writeUIntLE=function(e,t,r,n){(e=+e,t|=0,r|=0,n)||C(this,e,t,r,Math.pow(2,8*r)-1,0);var o=1,a=0;for(this[t]=255&e;++a<r&&(o*=256);)this[t+a]=e/o&255;return t+r},u.prototype.writeUIntBE=function(e,t,r,n){(e=+e,t|=0,r|=0,n)||C(this,e,t,r,Math.pow(2,8*r)-1,0);var o=r-1,a=1;for(this[t+o]=255&e;--o>=0&&(a*=256);)this[t+o]=e/a&255;return t+r},u.prototype.writeUInt8=function(e,t,r){return e=+e,t|=0,r||C(this,e,t,1,255,0),u.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},u.prototype.writeUInt16LE=function(e,t,r){return e=+e,t|=0,r||C(this,e,t,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):I(this,e,t,!0),t+2},u.prototype.writeUInt16BE=function(e,t,r){return e=+e,t|=0,r||C(this,e,t,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):I(this,e,t,!1),t+2},u.prototype.writeUInt32LE=function(e,t,r){return e=+e,t|=0,r||C(this,e,t,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):j(this,e,t,!0),t+4},u.prototype.writeUInt32BE=function(e,t,r){return e=+e,t|=0,r||C(this,e,t,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):j(this,e,t,!1),t+4},u.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t|=0,!n){var o=Math.pow(2,8*r-1);C(this,e,t,r,o-1,-o)}var a=0,i=1,s=0;for(this[t]=255&e;++a<r&&(i*=256);)e<0&&0===s&&0!==this[t+a-1]&&(s=1),this[t+a]=(e/i>>0)-s&255;return t+r},u.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t|=0,!n){var o=Math.pow(2,8*r-1);C(this,e,t,r,o-1,-o)}var a=r-1,i=1,s=0;for(this[t+a]=255&e;--a>=0&&(i*=256);)e<0&&0===s&&0!==this[t+a+1]&&(s=1),this[t+a]=(e/i>>0)-s&255;return t+r},u.prototype.writeInt8=function(e,t,r){return e=+e,t|=0,r||C(this,e,t,1,127,-128),u.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},u.prototype.writeInt16LE=function(e,t,r){return e=+e,t|=0,r||C(this,e,t,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):I(this,e,t,!0),t+2},u.prototype.writeInt16BE=function(e,t,r){return e=+e,t|=0,r||C(this,e,t,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):I(this,e,t,!1),t+2},u.prototype.writeInt32LE=function(e,t,r){return e=+e,t|=0,r||C(this,e,t,4,2147483647,-2147483648),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):j(this,e,t,!0),t+4},u.prototype.writeInt32BE=function(e,t,r){return e=+e,t|=0,r||C(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):j(this,e,t,!1),t+4},u.prototype.writeFloatLE=function(e,t,r){return M(this,e,t,!0,r)},u.prototype.writeFloatBE=function(e,t,r){return M(this,e,t,!1,r)},u.prototype.writeDoubleLE=function(e,t,r){return U(this,e,t,!0,r)},u.prototype.writeDoubleBE=function(e,t,r){return U(this,e,t,!1,r)},u.prototype.copy=function(e,t,r,n){if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);var o,a=n-r;if(this===e&&r<t&&t<n)for(o=a-1;o>=0;--o)e[o+t]=this[o+r];else if(a<1e3||!u.TYPED_ARRAY_SUPPORT)for(o=0;o<a;++o)e[o+t]=this[o+r];else Uint8Array.prototype.set.call(e,this.subarray(r,r+a),t);return a},u.prototype.fill=function(e,t,r,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),1===e.length){var o=e.charCodeAt(0);o<256&&(e=o)}if(void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!u.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;var a;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(a=t;a<r;++a)this[a]=e;else{var i=u.isBuffer(e)?e:F(new u(e,n).toString()),s=i.length;for(a=0;a<r-t;++a)this[a+t]=i[a%s]}return this};var D=/[^+\/0-9A-Za-z-_]/g;function B(e){return e<16?"0"+e.toString(16):e.toString(16)}function F(e,t){var r;t=t||1/0;for(var n=e.length,o=null,a=[],i=0;i<n;++i){if((r=e.charCodeAt(i))>55295&&r<57344){if(!o){if(r>56319){(t-=3)>-1&&a.push(239,191,189);continue}if(i+1===n){(t-=3)>-1&&a.push(239,191,189);continue}o=r;continue}if(r<56320){(t-=3)>-1&&a.push(239,191,189),o=r;continue}r=65536+(o-55296<<10|r-56320)}else o&&(t-=3)>-1&&a.push(239,191,189);if(o=null,r<128){if((t-=1)<0)break;a.push(r)}else if(r<2048){if((t-=2)<0)break;a.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;a.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;a.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return a}function G(e){return n.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(D,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function V(e,t,r,n){for(var o=0;o<n&&!(o+r>=t.length||o>=e.length);++o)t[o+r]=e[o];return o}}).call(this,r("3r9c"))},v25H:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=r("q1tI"),s=h(i),u=h(r("17x9")),f=h(r("QLaP")),c=h(r("Cz5J")),l=h(r("Ry8g"));function h(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function g(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var _=!1,v={onContextCreate:u.default.func.isRequired,onContextFailure:u.default.func.isRequired,onContextLost:u.default.func.isRequired,onContextRestored:u.default.func.isRequired,webglContextAttributes:u.default.object,width:u.default.number.isRequired,height:u.default.number.isRequired,style:u.default.object,pixelRatio:u.default.number},y=function(e){function t(){return p(this,t),d(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return g(t,i.Component),a(t,[{key:"render",value:function(){var e=this.props.error,t=String(e.rawError||e.message||e),r=String(e.longMessage||e.rawError||"");return s.default.createElement("div",{style:{width:"100%",height:"100%",position:"absolute",top:0,left:0,padding:"1em",background:"#a00",color:"#fff",fontSize:"12px",lineHeight:"1.2em",fontStyle:"normal",fontWeight:"normal",fontFamily:"monospace",overflow:"auto"}},s.default.createElement("div",{style:{fontWeight:"bold",marginBottom:"1em"}},t),s.default.createElement("div",{style:{whiteSpace:"pre"}},r))}}]),t}(),m=function(e){function t(){var e,r,n;p(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return r=n=d(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),n.state={error:null},n._onContextLost=function(e){e.preventDefault(),n.gl=null,n.props.onContextLost()},n._onContextRestored=function(){n.gl=n._createContext(),n.props.onContextRestored(n.gl)},n.onRef=function(e){n.canvas=e},n.debugError=_?function(e){n.setState({error:e})}:null,n.afterDraw=_?function(){n.state.error&&n.setState({error:null})}:null,d(n,r)}return g(t,i.Component),a(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.onContextCreate,r=e.onContextFailure,n=this._createContext();if(n){this.gl=n,t(n);var o=this.canvas;(0,f.default)(o,"canvas is not settled in GLViewDOM#componentDidMount"),o.addEventListener("webglcontextlost",this._onContextLost),o.addEventListener("webglcontextrestored",this._onContextRestored)}else r(new Error("no-webgl-context"))}},{key:"componentWillUnmount",value:function(){this.gl&&((0,l.default)(this.gl),this.gl=null);var e=this.canvas;e&&(e.removeEventListener("webglcontextlost",this._onContextLost),e.removeEventListener("webglcontextrestored",this._onContextRestored))}},{key:"render",value:function(){var e=this.state.error,t=this.props,r=t.width,a=t.height,i=t.pixelRatio,u=t.style,f=(t.debug,function(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}(t,["width","height","pixelRatio","style","debug"]));for(var c in i||(i=Number("object"===("undefined"==typeof window?"undefined":o(window))&&window.devicePixelRatio||1)),v)f.hasOwnProperty(c)&&delete f[c];return s.default.createElement("span",{style:n({},u,{display:"inline-block",position:"relative",width:r,height:a})},s.default.createElement("canvas",n({ref:this.onRef,style:{width:r,height:a},width:r*i,height:a*i},f)),e?s.default.createElement(y,{error:e}):null)}},{key:"_createContext",value:function(){var e=this.props,t=e.webglContextAttributes,r=e.debug,o=(0,c.default)(this.canvas,r?n({},t,{preserveDrawingBuffer:!0}):t);return this.webglContextAttributes=t||{},o}},{key:"captureAsDataURL",value:function(){var e;return this.webglContextAttributes.preserveDrawingBuffer||console.warn("Surface#captureAsDataURL is likely to not work if you don't define webglContextAttributes={{ preserveDrawingBuffer: true }}"),(0,f.default)(this.canvas,"canvas is no longer available"),(e=this.canvas).toDataURL.apply(e,arguments)}},{key:"captureAsBlob",value:function(){for(var e=this,t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return this.webglContextAttributes.preserveDrawingBuffer||console.warn("Surface#captureAsBlob is likely to not work if you don't define webglContextAttributes={{ preserveDrawingBuffer: true }}"),Promise.resolve().then(function(){return new Promise(function(t,n){var o;return e.canvas?(o=e.canvas).toBlob.apply(o,[t].concat(function(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}(r))):n(new Error("canvas is no longer available"))})})}}]),t}();m.propTypes=v,t.default=m},xEkU:function(e,t,r){(function(t){for(var n=r("bQgK"),o="undefined"==typeof window?t:window,a=["moz","webkit"],i="AnimationFrame",s=o["request"+i],u=o["cancel"+i]||o["cancelRequest"+i],f=0;!s&&f<a.length;f++)s=o[a[f]+"Request"+i],u=o[a[f]+"Cancel"+i]||o[a[f]+"CancelRequest"+i];if(!s||!u){var c=0,l=0,h=[];s=function(e){if(0===h.length){var t=n(),r=Math.max(0,1e3/60-(t-c));c=r+t,setTimeout(function(){var e=h.slice(0);h.length=0;for(var t=0;t<e.length;t++)if(!e[t].cancelled)try{e[t].callback(c)}catch(r){setTimeout(function(){throw r},0)}},Math.round(r))}return h.push({handle:++l,callback:e,cancelled:!1}),l},u=function(e){for(var t=0;t<h.length;t++)h[t].handle===e&&(h[t].cancelled=!0)}}e.exports=function(e){return s.call(o,e)},e.exports.cancel=function(){u.apply(o,arguments)},e.exports.polyfill=function(e){e||(e=o),e.requestAnimationFrame=s,e.cancelAnimationFrame=u}}).call(this,r("3r9c"))},y0kB:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(n=(i=s.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(u){o=!0,a=u}finally{try{!n&&s.return&&s.return()}finally{if(o)throw a}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=r("TGEO"),s=r("O8XB"),u=(n=s)&&n.__esModule?n:{default:n};var f=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.floatSupported=e.getExtension("OES_texture_float")&&e.getExtension("OES_texture_float_linear"),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.WebGLTextureLoaderSyncHashCache),a(t,[{key:"canLoad",value:function(e){return e.shape&&e.data&&e.stride}},{key:"inputHash",value:function(e){return e}},{key:"getNoCache",value:function(e){var t=this.gl,r=t.createTexture();t.bindTexture(t.TEXTURE_2D,r);var n=o(e.shape,2),a=n[0],i=n[1];return(0,u.default)(t,r,e,this.floatSupported),{texture:r,width:a,height:i}}},{key:"update",value:function(e){var t=this.gl,r=this.get(e).texture;t.bindTexture(t.TEXTURE_2D,r),(0,u.default)(t,r,e,this.floatSupported)}}]),t}();i.globalRegistry.add(f),t.default=f},zqV6:function(e,t,r){"use strict";(function(e,n){var o=r("pIo5"),a=r("hK8l");e.__TYPEDARRAY_POOL||(e.__TYPEDARRAY_POOL={UINT8:a([32,0]),UINT16:a([32,0]),UINT32:a([32,0]),INT8:a([32,0]),INT16:a([32,0]),INT32:a([32,0]),FLOAT:a([32,0]),DOUBLE:a([32,0]),DATA:a([32,0]),UINT8C:a([32,0]),BUFFER:a([32,0])});var i="undefined"!=typeof Uint8ClampedArray,s=e.__TYPEDARRAY_POOL;s.UINT8C||(s.UINT8C=a([32,0])),s.BUFFER||(s.BUFFER=a([32,0]));var u=s.DATA,f=s.BUFFER;function c(e){if(e){var t=e.length||e.byteLength,r=o.log2(t);u[r].push(e)}}function l(e){e=o.nextPow2(e);var t=o.log2(e),r=u[t];return r.length>0?r.pop():new ArrayBuffer(e)}function h(e){return new Uint8Array(l(e),0,e)}function p(e){return new Uint16Array(l(2*e),0,e)}function d(e){return new Uint32Array(l(4*e),0,e)}function g(e){return new Int8Array(l(e),0,e)}function _(e){return new Int16Array(l(2*e),0,e)}function v(e){return new Int32Array(l(4*e),0,e)}function y(e){return new Float32Array(l(4*e),0,e)}function m(e){return new Float64Array(l(8*e),0,e)}function b(e){return i?new Uint8ClampedArray(l(e),0,e):h(e)}function E(e){return new DataView(l(e),0,e)}function w(e){e=o.nextPow2(e);var t=o.log2(e),r=f[t];return r.length>0?r.pop():new n(e)}t.free=function(e){if(n.isBuffer(e))f[o.log2(e.length)].push(e);else{if("[object ArrayBuffer]"!==Object.prototype.toString.call(e)&&(e=e.buffer),!e)return;var t=e.length||e.byteLength,r=0|o.log2(t);u[r].push(e)}},t.freeUint8=t.freeUint16=t.freeUint32=t.freeInt8=t.freeInt16=t.freeInt32=t.freeFloat32=t.freeFloat=t.freeFloat64=t.freeDouble=t.freeUint8Clamped=t.freeDataView=function(e){c(e.buffer)},t.freeArrayBuffer=c,t.freeBuffer=function(e){f[o.log2(e.length)].push(e)},t.malloc=function(e,t){if(void 0===t||"arraybuffer"===t)return l(e);switch(t){case"uint8":return h(e);case"uint16":return p(e);case"uint32":return d(e);case"int8":return g(e);case"int16":return _(e);case"int32":return v(e);case"float":case"float32":return y(e);case"double":case"float64":return m(e);case"uint8_clamped":return b(e);case"buffer":return w(e);case"data":case"dataview":return E(e);default:return null}return null},t.mallocArrayBuffer=l,t.mallocUint8=h,t.mallocUint16=p,t.mallocUint32=d,t.mallocInt8=g,t.mallocInt16=_,t.mallocInt32=v,t.mallocFloat32=t.mallocFloat=y,t.mallocFloat64=t.mallocDouble=m,t.mallocUint8Clamped=b,t.mallocDataView=E,t.mallocBuffer=w,t.clearCache=function(){for(var e=0;e<32;++e)s.UINT8[e].length=0,s.UINT16[e].length=0,s.UINT32[e].length=0,s.INT8[e].length=0,s.INT16[e].length=0,s.INT32[e].length=0,s.FLOAT[e].length=0,s.DOUBLE[e].length=0,s.UINT8C[e].length=0,u[e].length=0,f[e].length=0}}).call(this,r("3r9c"),r("tjlA").Buffer)},zruO:function(e,t){e.exports=function(e,t,r,n,o,a,i,s,u,f){(arguments.length<=6&&(i=r,s=n,u=o,f=a,r=0,n=0,o=t.width,a=t.height),arguments.length<=4&&(u=o,f=a),r<0&&(i-=r*u/o,u+=r*u/o,o+=r,r=0),n<0&&(s-=n*f/a,f+=n*f/a,a+=n,n=0),r+o>t.width)&&(u*=(o-(r+o-t.width))/o,o=t.width);n+a>t.height&&(f*=(a-(n+a-t.height))/a,a=t.height);o<=0||a<=0||u<=0||f<=0||e.drawImage.apply(e,[t,r,n,o,a,i,s,u,f])}}}]);
